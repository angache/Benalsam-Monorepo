{"clientVersion":"5.22.0","level":"error","message":"Login error: \nInvalid `prisma.adminUser.findUnique()` invocation in\n/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/authController.ts:24:44\n\n  21 }\n  22 \n  23 // Find admin user\n→ 24 const admin = await prisma.adminUser.findUnique(\nCan't reach database server at `localhost:5432`\n\nPlease make sure your database server is running at `localhost:5432`.","name":"PrismaClientInitializationError","service":"admin-backend","stack":"PrismaClientInitializationError: \nInvalid `prisma.adminUser.findUnique()` invocation in\n/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/authController.ts:24:44\n\n  21 }\n  22 \n  23 // Find admin user\n→ 24 const admin = await prisma.adminUser.findUnique(\nCan't reach database server at `localhost:5432`\n\nPlease make sure your database server is running at `localhost:5432`.\n    at $n.handleRequestError (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/@prisma/client/runtime/library.js:121:7615)\n    at $n.handleAndLogRequestError (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async login (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/authController.ts:24:21)","timestamp":"2025-07-16T21:37:01.285Z"}
{"clientVersion":"5.22.0","level":"error","message":"Login error: \nInvalid `prisma.adminUser.findUnique()` invocation in\n/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/authController.ts:24:44\n\n  21 }\n  22 \n  23 // Find admin user\n→ 24 const admin = await prisma.adminUser.findUnique(\nCan't reach database server at `localhost:5432`\n\nPlease make sure your database server is running at `localhost:5432`.","name":"PrismaClientInitializationError","service":"admin-backend","stack":"PrismaClientInitializationError: \nInvalid `prisma.adminUser.findUnique()` invocation in\n/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/authController.ts:24:44\n\n  21 }\n  22 \n  23 // Find admin user\n→ 24 const admin = await prisma.adminUser.findUnique(\nCan't reach database server at `localhost:5432`\n\nPlease make sure your database server is running at `localhost:5432`.\n    at $n.handleRequestError (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/@prisma/client/runtime/library.js:121:7615)\n    at $n.handleAndLogRequestError (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async login (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/authController.ts:24:21)","timestamp":"2025-07-16T21:37:10.141Z"}
{"code":"PGRST200","details":"Searched for a foreign key relationship between 'listings' and 'listing_images' in the schema 'public', but no matches were found.","hint":"Perhaps you meant 'listing_views' instead of 'listing_images'.","level":"error","message":"Listing not found: a61de73e-36f0-404d-9596-5ded8fc80e3a Could not find a relationship between 'listings' and 'listing_images' in the schema cache","service":"admin-backend","timestamp":"2025-07-17T00:21:23.716Z"}
{"code":"PGRST200","details":"Searched for a foreign key relationship between 'listings' and 'listing_images' in the schema 'public', but no matches were found.","hint":"Perhaps you meant 'listing_views' instead of 'listing_images'.","level":"error","message":"Listing not found: a61de73e-36f0-404d-9596-5ded8fc80e3a Could not find a relationship between 'listings' and 'listing_images' in the schema cache","service":"admin-backend","timestamp":"2025-07-17T00:21:25.033Z"}
{"code":"42703","details":null,"hint":null,"level":"error","message":"Listing not found: 2f980664-60c7-4694-b521-9426c170b1c0 column profiles_1.email does not exist","service":"admin-backend","timestamp":"2025-07-17T07:02:06.116Z"}
{"code":"42703","details":null,"hint":null,"level":"error","message":"Listing not found: 2f980664-60c7-4694-b521-9426c170b1c0 column profiles_1.email does not exist","service":"admin-backend","timestamp":"2025-07-17T07:02:07.543Z"}
{"code":"42703","details":null,"hint":null,"level":"error","message":"Listing not found: 6714508a-1473-4001-ba39-51d179387d4e column profiles_1.email does not exist","service":"admin-backend","timestamp":"2025-07-17T07:02:21.132Z"}
{"code":"42703","details":null,"hint":null,"level":"error","message":"Listing not found: 6714508a-1473-4001-ba39-51d179387d4e column profiles_1.email does not exist","service":"admin-backend","timestamp":"2025-07-17T07:02:22.451Z"}
{"code":"42703","details":null,"hint":null,"level":"error","message":"Listing not found: a61de73e-36f0-404d-9596-5ded8fc80e3a column profiles_1.email does not exist","service":"admin-backend","timestamp":"2025-07-17T07:04:57.556Z"}
{"code":"42703","details":null,"hint":null,"level":"error","message":"Listing not found: a61de73e-36f0-404d-9596-5ded8fc80e3a column profiles_1.email does not exist","service":"admin-backend","timestamp":"2025-07-17T07:04:58.947Z"}
{"code":"42703","details":null,"hint":null,"level":"error","message":"Listing not found: a61de73e-36f0-404d-9596-5ded8fc80e3a column profiles_1.email does not exist","service":"admin-backend","timestamp":"2025-07-17T07:08:24.315Z"}
{"code":"42703","details":null,"hint":null,"level":"error","message":"Listing not found: a61de73e-36f0-404d-9596-5ded8fc80e3a column profiles_1.email does not exist","service":"admin-backend","timestamp":"2025-07-17T07:08:25.704Z"}
{"code":"42703","details":null,"hint":null,"level":"error","message":"Error fetching listings: column profiles_1.email does not exist","service":"admin-backend","timestamp":"2025-07-17T07:08:28.178Z"}
{"code":"42703","details":null,"hint":null,"level":"error","message":"Error fetching listings: column profiles_1.email does not exist","service":"admin-backend","timestamp":"2025-07-17T07:08:29.759Z"}
{"code":"42703","details":null,"hint":null,"level":"error","message":"Error fetching listings: column profiles_1.email does not exist","service":"admin-backend","timestamp":"2025-07-17T07:08:31.992Z"}
{"code":"42703","details":null,"hint":null,"level":"error","message":"Error fetching listings: column profiles_1.email does not exist","service":"admin-backend","timestamp":"2025-07-17T07:08:33.574Z"}
{"code":"42703","details":null,"hint":null,"level":"error","message":"Error fetching listings: column profiles_1.email does not exist","service":"admin-backend","timestamp":"2025-07-17T07:09:01.373Z"}
{"code":"42703","details":null,"hint":null,"level":"error","message":"Error fetching listings: column profiles_1.email does not exist","service":"admin-backend","timestamp":"2025-07-17T07:09:02.980Z"}
{"code":"PGRST200","details":"Searched for a foreign key relationship between 'listings' and 'listing_images' in the schema 'public', but no matches were found.","hint":"Perhaps you meant 'listing_views' instead of 'listing_images'.","level":"error","message":"Error moderating listing: a61de73e-36f0-404d-9596-5ded8fc80e3a Could not find a relationship between 'listings' and 'listing_images' in the schema cache","service":"admin-backend","timestamp":"2025-07-17T07:50:29.499Z"}
{"code":"PGRST200","details":"Searched for a foreign key relationship between 'listings' and 'listing_images' in the schema 'public', but no matches were found.","hint":"Perhaps you meant 'listing_views' instead of 'listing_images'.","level":"error","message":"Error moderating listing: a61de73e-36f0-404d-9596-5ded8fc80e3a Could not find a relationship between 'listings' and 'listing_images' in the schema cache","service":"admin-backend","timestamp":"2025-07-17T08:00:08.228Z"}
{"code":"PGRST200","details":"Searched for a foreign key relationship between 'listings' and 'listing_images' in the schema 'public', but no matches were found.","hint":"Perhaps you meant 'listing_views' instead of 'listing_images'.","level":"error","message":"Error moderating listing: a61de73e-36f0-404d-9596-5ded8fc80e3a Could not find a relationship between 'listings' and 'listing_images' in the schema cache","service":"admin-backend","timestamp":"2025-07-17T08:00:11.263Z"}
{"code":"PGRST200","details":"Searched for a foreign key relationship between 'listings' and 'listing_images' in the schema 'public', but no matches were found.","hint":"Perhaps you meant 'listing_views' instead of 'listing_images'.","level":"error","message":"Error moderating listing: a61de73e-36f0-404d-9596-5ded8fc80e3a Could not find a relationship between 'listings' and 'listing_images' in the schema cache","service":"admin-backend","timestamp":"2025-07-17T08:05:30.401Z"}
{"code":"PGRST200","details":"Searched for a foreign key relationship between 'listings' and 'listing_images' in the schema 'public', but no matches were found.","hint":"Perhaps you meant 'listing_views' instead of 'listing_images'.","level":"error","message":"Error moderating listing: a61de73e-36f0-404d-9596-5ded8fc80e3a Could not find a relationship between 'listings' and 'listing_images' in the schema cache","service":"admin-backend","timestamp":"2025-07-17T08:05:35.832Z"}
{"code":"PGRST204","details":null,"hint":null,"level":"error","message":"Error moderating listing: a61de73e-36f0-404d-9596-5ded8fc80e3a Could not find the 'moderated_at' column of 'listings' in the schema cache","service":"admin-backend","timestamp":"2025-07-17T08:07:45.524Z"}
{"code":"PGRST204","details":null,"hint":null,"level":"error","message":"Error moderating listing: a61de73e-36f0-404d-9596-5ded8fc80e3a Could not find the 'moderated_at' column of 'listings' in the schema cache","service":"admin-backend","timestamp":"2025-07-17T08:07:58.643Z"}
{"code":"23514","details":"Failing row contains (a61de73e-36f0-404d-9596-5ded8fc80e3a, e9ae9253-752a-4abe-b0c9-0ee92f81e9c9, İkinci El Oyuncu Bilgisayarı Arıyorum, Oyun oynamak için kullanabileceğim, uygun fiyatlı ikinci el b..., Elektronik > Bilgisayar > Masaüstü Bilgisayar, 20000, İzmir / Karşıyaka / Şemikler Mahallesi, low, null, 0, 0, 2025-07-14 08:07:46.523+00, 2025-07-17 08:13:27.024+00, {https://images.unsplash.com/photo-1636487410162-780aa85d57a0?cr..., https://images.unsplash.com/photo-1636488363148-818c08eec89e?cro..., 0, ACTIVE, null, null, f, site_only, ddf7a648-3d80-44ea-a27f-e8038bd3626e, 2025-07-17 08:13:27.024+00, null, null, null, null, null, 0, f, f, f, null, null, f, null, null, null, f, t, null, null, null, '1':51 '1000w':56 '16':41 '512':49 '750w':54 '8':43 '850w':55 'a..., null, {\"İkinci El\",\"Az Kullanılmış\",Yeni}, {}, {\"ram\": [\"16 GB\", \"8 GB\"], \"marka\": [\"HP\", \"Lenovo\", \"ASUS\", \"MS...).","hint":null,"level":"error","message":"Error moderating listing: a61de73e-36f0-404d-9596-5ded8fc80e3a new row for relation \"listings\" violates check constraint \"listings_status_check\"","service":"admin-backend","timestamp":"2025-07-17T08:13:27.291Z"}
{"code":"23503","details":"Key (reviewed_by)=(ddf7a648-3d80-44ea-a27f-e8038bd3626e) is not present in table \"profiles\".","hint":null,"level":"error","message":"Error moderating listing: a61de73e-36f0-404d-9596-5ded8fc80e3a insert or update on table \"listings\" violates foreign key constraint \"listings_reviewed_by_fkey\"","service":"admin-backend","timestamp":"2025-07-17T08:14:28.761Z"}
{"code":"23503","details":"Key (reviewed_by)=(a20fbd80-9c3b-40d3-87da-050c779f4498) is not present in table \"profiles\".","hint":null,"level":"error","message":"Error moderating listing: a61de73e-36f0-404d-9596-5ded8fc80e3a insert or update on table \"listings\" violates foreign key constraint \"listings_reviewed_by_fkey\"","service":"admin-backend","timestamp":"2025-07-17T08:47:42.071Z"}
{"level":"error","message":"Error fetching categories: Cannot read properties of undefined (reading 'calculateCategoryStats')","service":"admin-backend","stack":"TypeError: Cannot read properties of undefined (reading 'calculateCategoryStats')\n    at /Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/categoriesController.ts:39:28\n    at Array.map (<anonymous>)\n    at getCategories (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/categoriesController.ts:38:46)","timestamp":"2025-07-17T09:40:31.079Z"}
{"level":"error","message":"Error fetching categories: Cannot read properties of undefined (reading 'calculateCategoryStats')","service":"admin-backend","stack":"TypeError: Cannot read properties of undefined (reading 'calculateCategoryStats')\n    at /Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/categoriesController.ts:39:28\n    at Array.map (<anonymous>)\n    at getCategories (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/categoriesController.ts:38:46)","timestamp":"2025-07-17T09:40:32.368Z"}
{"level":"error","message":"Error fetching categories: Cannot read properties of undefined (reading 'calculateCategoryStats')","service":"admin-backend","stack":"TypeError: Cannot read properties of undefined (reading 'calculateCategoryStats')\n    at /Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/categoriesController.ts:39:28\n    at Array.map (<anonymous>)\n    at getCategories (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/categoriesController.ts:38:46)","timestamp":"2025-07-17T10:01:54.843Z"}
{"level":"error","message":"Error fetching categories: Cannot read properties of undefined (reading 'calculateCategoryStats')","service":"admin-backend","stack":"TypeError: Cannot read properties of undefined (reading 'calculateCategoryStats')\n    at /Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/categoriesController.ts:39:28\n    at Array.map (<anonymous>)\n    at getCategories (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/categoriesController.ts:38:46)","timestamp":"2025-07-17T10:31:52.188Z"}
{"level":"error","message":"Error fetching categories: Cannot read properties of undefined (reading 'calculateCategoryStats')","service":"admin-backend","stack":"TypeError: Cannot read properties of undefined (reading 'calculateCategoryStats')\n    at /Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/categoriesController.ts:39:28\n    at Array.map (<anonymous>)\n    at getCategories (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/categoriesController.ts:38:46)","timestamp":"2025-07-17T10:31:56.239Z"}
{"level":"error","message":"Error fetching categories: Cannot read properties of undefined (reading 'calculateCategoryStats')","service":"admin-backend","stack":"TypeError: Cannot read properties of undefined (reading 'calculateCategoryStats')\n    at /Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/categoriesController.ts:39:28\n    at Array.map (<anonymous>)\n    at getCategories (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/categoriesController.ts:38:46)","timestamp":"2025-07-17T10:31:57.515Z"}
{"code":"PGRST202","details":"Searched for the function public.get_admin_permissions with parameter p_admin_id or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.check_offer_timing_permission","level":"error","message":"Error getting admin permissions: Could not find the function public.get_admin_permissions(p_admin_id) in the schema cache","service":"admin-backend","timestamp":"2025-07-17T13:29:58.469Z"}
{"code":"PGRST202","details":"Searched for the function public.get_admin_permissions with parameter p_admin_id or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.check_offer_timing_permission","level":"error","message":"Error in getAdminPermissions: Could not find the function public.get_admin_permissions(p_admin_id) in the schema cache","service":"admin-backend","timestamp":"2025-07-17T13:29:58.471Z"}
{"code":"PGRST202","details":"Searched for the function public.get_admin_permissions with parameter p_admin_id or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.check_offer_timing_permission","level":"error","message":"Authentication error: Could not find the function public.get_admin_permissions(p_admin_id) in the schema cache","service":"admin-backend","timestamp":"2025-07-17T13:29:58.472Z"}
{"code":"PGRST202","details":"Searched for the function public.get_admin_permissions with parameter p_admin_id or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.check_offer_timing_permission","level":"error","message":"Error getting admin permissions: Could not find the function public.get_admin_permissions(p_admin_id) in the schema cache","service":"admin-backend","timestamp":"2025-07-17T13:29:58.764Z"}
{"code":"PGRST202","details":"Searched for the function public.get_admin_permissions with parameter p_admin_id or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.check_offer_timing_permission","level":"error","message":"Error in getAdminPermissions: Could not find the function public.get_admin_permissions(p_admin_id) in the schema cache","service":"admin-backend","timestamp":"2025-07-17T13:29:58.766Z"}
{"code":"PGRST202","details":"Searched for the function public.get_admin_permissions with parameter p_admin_id or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.check_offer_timing_permission","level":"error","message":"Authentication error: Could not find the function public.get_admin_permissions(p_admin_id) in the schema cache","service":"admin-backend","timestamp":"2025-07-17T13:29:58.768Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error getting admin permissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T13:39:19.906Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error in getAdminPermissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T13:39:19.908Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Authentication error: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T13:39:19.909Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error getting admin permissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T13:39:25.899Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error in getAdminPermissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T13:39:25.900Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Authentication error: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T13:39:25.900Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error getting admin permissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T13:39:30.714Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error in getAdminPermissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T13:39:30.715Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Authentication error: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T13:39:30.715Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error getting admin permissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T13:42:41.259Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error in getAdminPermissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T13:42:41.259Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Authentication error: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T13:42:41.259Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error getting admin permissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T13:45:39.736Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error in getAdminPermissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T13:45:39.738Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Authentication error: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T13:45:39.739Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error getting admin permissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T13:45:49.859Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error in getAdminPermissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T13:45:49.860Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Authentication error: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T13:45:49.860Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error getting admin permissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T13:46:30.483Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error in getAdminPermissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T13:46:30.484Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Authentication error: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T13:46:30.484Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error getting admin permissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T13:54:37.962Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error getting admin permissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T14:14:27.360Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error getting admin permissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T14:22:29.007Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error getting admin permissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T14:22:30.115Z"}
{"code":"42P01","details":null,"hint":null,"level":"error","message":"Error fetching users: relation \"public.users\" does not exist","service":"admin-backend","timestamp":"2025-07-17T14:22:30.516Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error getting admin permissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T14:22:30.769Z"}
{"code":"42P01","details":null,"hint":null,"level":"error","message":"Error fetching users: relation \"public.users\" does not exist","service":"admin-backend","timestamp":"2025-07-17T14:22:30.985Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error getting admin permissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T14:22:47.281Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error getting admin permissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T14:22:47.322Z"}
{"code":"42P01","details":null,"hint":null,"level":"error","message":"Error fetching users: relation \"public.users\" does not exist","service":"admin-backend","timestamp":"2025-07-17T14:22:47.524Z"}
{"code":"42P01","details":null,"hint":null,"level":"error","message":"Error fetching users: relation \"public.users\" does not exist","service":"admin-backend","timestamp":"2025-07-17T14:22:47.647Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error getting admin permissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T14:22:53.360Z"}
{"code":"42804","details":"Returned type character varying(100) does not match expected type text in column 1.","hint":null,"level":"error","message":"Error getting admin permissions: structure of query does not match function result type","service":"admin-backend","timestamp":"2025-07-17T14:22:53.388Z"}
{"code":"42P01","details":null,"hint":null,"level":"error","message":"Error fetching users: relation \"public.users\" does not exist","service":"admin-backend","timestamp":"2025-07-17T14:22:53.632Z"}
{"code":"42P01","details":null,"hint":null,"level":"error","message":"Error fetching users: relation \"public.users\" does not exist","service":"admin-backend","timestamp":"2025-07-17T14:22:53.699Z"}
{"code":"PGRST204","details":null,"hint":null,"level":"error","message":"Error unbanning user: Could not find the 'ban_reason' column of 'profiles' in the schema cache","service":"admin-backend","timestamp":"2025-07-17T14:54:51.162Z"}
{"code":"PGRST204","details":null,"hint":null,"level":"error","message":"Error unbanning user: Could not find the 'ban_reason' column of 'profiles' in the schema cache","service":"admin-backend","timestamp":"2025-07-17T14:54:53.432Z"}
{"code":"PGRST204","details":null,"hint":null,"level":"error","message":"Error unbanning user: Could not find the 'ban_reason' column of 'profiles' in the schema cache","service":"admin-backend","timestamp":"2025-07-17T14:54:54.663Z"}
{"level":"error","message":"Authentication error: jwt malformed","name":"JsonWebTokenError","service":"admin-backend","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/jsonwebtoken/verify.js:70:17)\n    at Object.verify (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/utils/jwt.ts:22:16)\n    at authenticateToken (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/middleware/auth.ts:35:30)\n    at Layer.handle [as handle_request] (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-07-17T15:21:23.560Z"}
{"level":"error","managerError":{"code":"42703","details":null,"hint":null,"message":"column admin_users.level does not exist"},"message":"Error getting users for management check:","service":"admin-backend","targetError":{"code":"42703","details":null,"hint":null,"message":"column admin_users.level does not exist"},"timestamp":"2025-07-17T16:20:50.134Z"}
{"code":"42703","details":null,"hint":null,"level":"error","message":"Error in canManageUser: column admin_users.level does not exist","service":"admin-backend","timestamp":"2025-07-17T16:20:50.135Z"}
{"code":"42703","details":null,"hint":null,"level":"error","message":"Error in updateAdminUser: column admin_users.level does not exist","service":"admin-backend","timestamp":"2025-07-17T16:20:50.136Z"}
{"hint":"Double check your Supabase `anon` or `service_role` API key.","level":"error","message":"Admin not found or error: Invalid API key","service":"admin-backend","timestamp":"2025-07-18T13:36:20.944Z"}
{"hint":"Double check your Supabase `anon` or `service_role` API key.","level":"error","message":"Admin not found or error: Invalid API key","service":"admin-backend","timestamp":"2025-07-18T13:36:32.042Z"}
{"hint":"Double check your Supabase `anon` or `service_role` API key.","level":"error","message":"Admin not found or error: Invalid API key","service":"admin-backend","timestamp":"2025-07-18T13:36:49.803Z"}
{"hint":"Double check your Supabase `anon` or `service_role` API key.","level":"error","message":"Admin not found or error: Invalid API key","service":"admin-backend","timestamp":"2025-07-18T13:36:55.705Z"}
{"level":"error","message":"❌ Elasticsearch health check failed: connect ECONNREFUSED 209.227.228.96:9200","meta":{"headers":{},"meta":{"aborted":false,"attempts":3,"connection":{"_openRequests":0,"deadCount":0,"headers":{"authorization":"[redacted]","user-agent":"elasticsearch-js/8.18.2 (darwin 24.5.0-x64; Node.js 20.18.0; Transport 8.10.0)","x-elastic-client-meta":"es=8.18.2,js=20.18.0,t=8.10.0,un=20.18.0"},"id":"http://209.227.228.96:9200/","maxEventListeners":100,"pool":{"_events":{},"_eventsCount":1},"resurrectTimeout":0,"timeout":30000,"tls":{"rejectUnauthorized":false},"url":"http://209.227.228.96:9200/","weight":1000},"context":null,"name":"elasticsearch-js","request":{"id":1,"options":{},"params":{"headers":{"accept":"application/vnd.elasticsearch+json; compatible-with=8,text/plain","authorization":"[redacted]","user-agent":"elasticsearch-js/8.18.2 (darwin 24.5.0-x64; Node.js 20.18.0; Transport 8.10.0)","x-elastic-client-meta":"es=8.18.2,js=20.18.0,t=8.10.0,un=20.18.0"},"method":"GET","path":"/_cluster/health","querystring":""}}},"statusCode":0,"warnings":null},"name":"ConnectionError","options":{"redaction":{"additionalKeys":[],"type":"replace"}},"service":"admin-backend","stack":"ConnectionError: connect ECONNREFUSED 209.227.228.96:9200\n    at SniffingTransport._request (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/node_modules/@elastic/transport/src/Transport.ts:675:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/node_modules/@elastic/transport/src/Transport.ts:740:22\n    at async SniffingTransport.request (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/node_modules/@elastic/transport/src/Transport.ts:737:14)\n    at async Cluster.health (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/node_modules/@elastic/src/api/api/cluster.ts:290:12)\n    at async AdminElasticsearchService.getHealth (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/shared-types/src/services/elasticsearchService.ts:55:24)\n    at async ElasticsearchController.getHealth (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/elasticsearchController.ts:28:22)","timestamp":"2025-07-18T14:29:06.160Z"}
{"level":"error","message":"❌ Health check failed: connect ECONNREFUSED 209.227.228.96:9200","meta":{"headers":{},"meta":{"aborted":false,"attempts":3,"connection":{"_openRequests":0,"deadCount":0,"headers":{"authorization":"[redacted]","user-agent":"elasticsearch-js/8.18.2 (darwin 24.5.0-x64; Node.js 20.18.0; Transport 8.10.0)","x-elastic-client-meta":"es=8.18.2,js=20.18.0,t=8.10.0,un=20.18.0"},"id":"http://209.227.228.96:9200/","maxEventListeners":100,"pool":{"_events":{},"_eventsCount":1},"resurrectTimeout":0,"timeout":30000,"tls":{"rejectUnauthorized":false},"url":"http://209.227.228.96:9200/","weight":1000},"context":null,"name":"elasticsearch-js","request":{"id":2,"options":{},"params":{"headers":{"accept":"application/vnd.elasticsearch+json; compatible-with=8,text/plain","authorization":"[redacted]","user-agent":"elasticsearch-js/8.18.2 (darwin 24.5.0-x64; Node.js 20.18.0; Transport 8.10.0)","x-elastic-client-meta":"es=8.18.2,js=20.18.0,t=8.10.0,un=20.18.0"},"method":"GET","path":"/_cluster/health","querystring":""}}},"statusCode":0,"warnings":null},"name":"ConnectionError","options":{"redaction":{"additionalKeys":[],"type":"replace"}},"service":"admin-backend","stack":"ConnectionError: connect ECONNREFUSED 209.227.228.96:9200\n    at SniffingTransport._request (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/node_modules/@elastic/transport/src/Transport.ts:675:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/node_modules/@elastic/transport/src/Transport.ts:740:22\n    at async SniffingTransport.request (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/node_modules/@elastic/transport/src/Transport.ts:737:14)\n    at async Cluster.health (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/node_modules/@elastic/src/api/api/cluster.ts:290:12)\n    at async AdminElasticsearchService.getHealth (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/shared-types/src/services/elasticsearchService.ts:55:24)\n    at async IndexerService.healthCheck (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/services/indexerService.ts:403:35)\n    at async SyncService.healthCheck (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/services/syncService.ts:350:29)\n    at async ElasticsearchController.getHealthCheck (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/elasticsearchController.ts:299:22)","timestamp":"2025-07-18T14:29:20.161Z"}
{"level":"error","message":"❌ Health check failed: connect ECONNREFUSED 209.227.228.96:9200","meta":{"headers":{},"meta":{"aborted":false,"attempts":3,"connection":{"_openRequests":0,"deadCount":0,"headers":{"authorization":"[redacted]","user-agent":"elasticsearch-js/8.18.2 (darwin 24.5.0-x64; Node.js 20.18.0; Transport 8.10.0)","x-elastic-client-meta":"es=8.18.2,js=20.18.0,t=8.10.0,un=20.18.0"},"id":"http://209.227.228.96:9200/","maxEventListeners":100,"pool":{"_events":{},"_eventsCount":1},"resurrectTimeout":0,"timeout":30000,"tls":{"rejectUnauthorized":false},"url":"http://209.227.228.96:9200/","weight":1000},"context":null,"name":"elasticsearch-js","request":{"id":2,"options":{},"params":{"headers":{"accept":"application/vnd.elasticsearch+json; compatible-with=8,text/plain","authorization":"[redacted]","user-agent":"elasticsearch-js/8.18.2 (darwin 24.5.0-x64; Node.js 20.18.0; Transport 8.10.0)","x-elastic-client-meta":"es=8.18.2,js=20.18.0,t=8.10.0,un=20.18.0"},"method":"GET","path":"/_cluster/health","querystring":""}}},"statusCode":0,"warnings":null},"name":"ConnectionError","options":{"redaction":{"additionalKeys":[],"type":"replace"}},"service":"admin-backend","stack":"ConnectionError: connect ECONNREFUSED 209.227.228.96:9200\n    at SniffingTransport._request (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/node_modules/@elastic/transport/src/Transport.ts:675:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/node_modules/@elastic/transport/src/Transport.ts:740:22\n    at async SniffingTransport.request (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/node_modules/@elastic/transport/src/Transport.ts:737:14)\n    at async Cluster.health (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/node_modules/@elastic/src/api/api/cluster.ts:290:12)\n    at async AdminElasticsearchService.getHealth (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/shared-types/src/services/elasticsearchService.ts:55:24)\n    at async IndexerService.healthCheck (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/services/indexerService.ts:403:35)\n    at async SyncService.healthCheck (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/services/syncService.ts:350:29)\n    at async ElasticsearchController.getHealthCheck (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/elasticsearchController.ts:299:22)","timestamp":"2025-07-18T14:29:20.162Z"}
{"level":"error","message":"❌ Health check failed: connect ECONNREFUSED 209.227.228.96:9200","meta":{"headers":{},"meta":{"aborted":false,"attempts":3,"connection":{"_openRequests":0,"deadCount":0,"headers":{"authorization":"[redacted]","user-agent":"elasticsearch-js/8.18.2 (darwin 24.5.0-x64; Node.js 20.18.0; Transport 8.10.0)","x-elastic-client-meta":"es=8.18.2,js=20.18.0,t=8.10.0,un=20.18.0"},"id":"http://209.227.228.96:9200/","maxEventListeners":100,"pool":{"_events":{},"_eventsCount":1},"resurrectTimeout":0,"timeout":30000,"tls":{"rejectUnauthorized":false},"url":"http://209.227.228.96:9200/","weight":1000},"context":null,"name":"elasticsearch-js","request":{"id":2,"options":{},"params":{"headers":{"accept":"application/vnd.elasticsearch+json; compatible-with=8,text/plain","authorization":"[redacted]","user-agent":"elasticsearch-js/8.18.2 (darwin 24.5.0-x64; Node.js 20.18.0; Transport 8.10.0)","x-elastic-client-meta":"es=8.18.2,js=20.18.0,t=8.10.0,un=20.18.0"},"method":"GET","path":"/_cluster/health","querystring":""}}},"statusCode":0,"warnings":null},"name":"ConnectionError","options":{"redaction":{"additionalKeys":[],"type":"replace"}},"service":"admin-backend","stack":"ConnectionError: connect ECONNREFUSED 209.227.228.96:9200\n    at SniffingTransport._request (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/node_modules/@elastic/transport/src/Transport.ts:675:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/node_modules/@elastic/transport/src/Transport.ts:740:22\n    at async SniffingTransport.request (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/node_modules/@elastic/transport/src/Transport.ts:737:14)\n    at async Cluster.health (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/node_modules/@elastic/src/api/api/cluster.ts:290:12)\n    at async AdminElasticsearchService.getHealth (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/shared-types/src/services/elasticsearchService.ts:55:24)\n    at async IndexerService.healthCheck (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/services/indexerService.ts:403:35)\n    at async SyncService.healthCheck (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/services/syncService.ts:350:29)\n    at async ElasticsearchController.getHealthCheck (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/elasticsearchController.ts:299:22)","timestamp":"2025-07-18T14:29:20.163Z"}
{"level":"error","message":"❌ Error getting queue stats: Redis not connected","service":"admin-backend","stack":"Error: Redis not connected\n    at MessageQueueService.getStats (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/services/messageQueueService.ts:205:15)\n    at SyncService.getSyncStats (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/services/syncService.ts:281:50)\n    at ElasticsearchController.getSyncStatus (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/elasticsearchController.ts:127:44)\n    at /Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/routes/elasticsearch.ts:20:66\n    at Layer.handle [as handle_request] (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-07-18T14:29:29.785Z"}
{"level":"error","message":"❌ Error getting sync stats: Redis not connected","service":"admin-backend","stack":"Error: Redis not connected\n    at MessageQueueService.getStats (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/services/messageQueueService.ts:205:15)\n    at SyncService.getSyncStats (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/services/syncService.ts:281:50)\n    at ElasticsearchController.getSyncStatus (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/elasticsearchController.ts:127:44)\n    at /Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/routes/elasticsearch.ts:20:66\n    at Layer.handle [as handle_request] (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-07-18T14:29:29.788Z"}
{"level":"error","message":"❌ Failed to get sync status: Redis not connected","service":"admin-backend","stack":"Error: Redis not connected\n    at MessageQueueService.getStats (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/services/messageQueueService.ts:205:15)\n    at SyncService.getSyncStats (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/services/syncService.ts:281:50)\n    at ElasticsearchController.getSyncStatus (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/controllers/elasticsearchController.ts:127:44)\n    at /Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/routes/elasticsearch.ts:20:66\n    at Layer.handle [as handle_request] (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-07-18T14:29:29.788Z"}
{"level":"error","message":"Update document error: connect ECONNREFUSED 209.227.228.96:9200","meta":{"headers":{},"meta":{"aborted":false,"attempts":3,"connection":{"_openRequests":0,"deadCount":0,"headers":{"authorization":"[redacted]","user-agent":"elasticsearch-js/8.18.2 (darwin 24.5.0-x64; Node.js 20.18.0; Transport 8.10.0)","x-elastic-client-meta":"es=8.18.2,js=20.18.0,t=8.10.0,un=20.18.0"},"id":"http://209.227.228.96:9200/","maxEventListeners":100,"pool":{"_events":{},"_eventsCount":1},"resurrectTimeout":0,"timeout":30000,"tls":null,"url":"http://209.227.228.96:9200/","weight":1000},"context":null,"name":"elasticsearch-js","request":{"id":1,"options":{},"params":{"body":"{\"doc\":{\"id\":\"d97e6647-7598-4db4-b113-79deb60e61cb\",\"title\":\"İkinci El Bisiklet Aranıyor\",\"description\":\"Kullanılmış bisiklet arıyorum. Şehir içi kullanıma uygun, bakımlı ve çalışır durumda olması tercihimdir. Fiyat tekliflerinizi ve bisikletin genel durumu hakkında bilgi içeren açıklamalarınızı bekliyorum. Amacım uygun fiyatlı bir bisiklet bulmak. İlanınızı bekliyorum. Teşekkürler.\",\"category\":\"Araç & Vasıta > Bisiklet > Şehir Bisikleti\",\"budget\":750,\"location\":{\"lat\":null,\"lon\":null,\"text\":\"İzmir / Karşıyaka / Şemikler Mahallesi\"},\"urgency\":\"low\",\"attributes\":{\"marka\":[\"Cube\",\"Kona\"],\"frame_size\":[\"S\",\"M\"],\"wheel_size\":[\"26\\\"\",\"27.5\\\"\"],\"frame_material\":[\"Alüminyum\",\"Karbon\",\"Çelik\"]},\"user_id\":\"e9ae9253-752a-4abe-b0c9-0ee92f81e9c9\",\"status\":\"active\",\"created_at\":\"2025-07-13T22:09:51.315+00:00\",\"updated_at\":\"2025-07-18T01:18:31.717+00:00\",\"popularity_score\":0,\"is_premium\":false,\"tags\":[]}}","headers":{"accept":"application/vnd.elasticsearch+json; compatible-with=8","authorization":"[redacted]","content-length":"944","content-type":"application/vnd.elasticsearch+json; compatible-with=8","user-agent":"elasticsearch-js/8.18.2 (darwin 24.5.0-x64; Node.js 20.18.0; Transport 8.10.0)","x-elastic-client-meta":"es=8.18.2,js=20.18.0,t=8.10.0,un=20.18.0"},"method":"POST","path":"/benalsam_listings/_update/d97e6647-7598-4db4-b113-79deb60e61cb","querystring":""}}},"statusCode":0,"warnings":null},"name":"ConnectionError","options":{"redaction":{"additionalKeys":[],"type":"replace"}},"service":"admin-backend","stack":"ConnectionError: connect ECONNREFUSED 209.227.228.96:9200\n    at SniffingTransport._request (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/node_modules/@elastic/transport/src/Transport.ts:675:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/node_modules/@elastic/transport/src/Transport.ts:740:22\n    at async SniffingTransport.request (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/node_modules/@elastic/transport/src/Transport.ts:737:14)\n    at async Client.UpdateApi [as update] (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/node_modules/@elastic/elasticsearch/lib/api/api/update.js:58:12)\n    at async AdminElasticsearchService.updateDocument (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/services/elasticsearchService.ts:95:7)\n    at async QueueProcessorService.processListingJob (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/services/queueProcessorService.ts:150:13)\n    at async QueueProcessorService.processJob (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/services/queueProcessorService.ts:103:11)\n    at async QueueProcessorService.processQueue (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/services/queueProcessorService.ts:82:9)\n    at async Timeout._onTimeout (/Users/alituna/Documents/projects/Benalsam/benalsam-monorepo/packages/admin-backend/src/services/queueProcessorService.ts:36:7)","timestamp":"2025-07-21T14:39:42.436Z"}
