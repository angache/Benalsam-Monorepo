import{j as e}from"./query-tMv1bFhv.js";import{r as s}from"./router-Bq68dJ36.js";import{d as E,B as x,s as D,t as c}from"./auth-Dm-7ngQy.js";import{I as t}from"./listings-CDgdt6vp.js";import{M as I,o as p,b7 as g,a9 as U,b8 as l,b6 as P}from"./ui-YP8xOIYG.js";import"./vendor-Bs7gn1Hv.js";import"./images-C3EucWOq.js";import"./supabase-D6FkHI3a.js";const H=()=>{const{currentUser:a,setCurrentUser:j}=E(),[b,k]=s.useState(""),[N,v]=s.useState(!1),[d,h]=s.useState(""),[y,w]=s.useState(!1),[i,f]=s.useState({instagram:"",facebook:"",linkedin:"",x_twitter:"",other:""}),[C,S]=s.useState(!0);s.useEffect(()=>{a&&(k(a.email||""),v(!!a.email_confirmed_at),h(a.phone_number||""),w(a.phone_verified||!1),f(a.social_links||{instagram:"",facebook:"",linkedin:"",x_twitter:"",other:""}),S(!1))},[a]);const n=r=>{const{name:u,value:o}=r.target;f(m=>({...m,[u]:o}))},L=async r=>{if(r.preventDefault(),!a)return;const u={id:a.id,phone_number:d||null,social_links:i,updated_at:new Date},{data:o,error:m}=await D.from("profiles").update(u).eq("id",a.id).select().single();m?c({title:"GÃ¼ncelleme HatasÄ±",description:m.message,variant:"destructive"}):o&&(j(B=>({...B,...o})),c({title:"Ä°letiÅŸim Bilgileri GÃ¼ncellendi",description:"DeÄŸiÅŸiklikler baÅŸarÄ±yla kaydedildi."}))},_=async()=>{c({title:"ðŸš§ Bu Ã¶zellik henÃ¼z uygulanmadÄ±â€”ama merak etme! Bir sonraki istekte talep edebilirsin! ðŸš€"})},z=async()=>{c({title:"ðŸš§ Bu Ã¶zellik henÃ¼z uygulanmadÄ±â€”ama merak etme! Bir sonraki istekte talep edebilirsin! ðŸš€"})};return C?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary"})}):e.jsxs("form",{onSubmit:L,className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"E-posta Adresi"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(t,{type:"email",value:b,disabled:!0,className:"flex-grow bg-muted/50",icon:e.jsx(I,{className:"w-4 h-4 text-muted-foreground"})}),N?e.jsxs("span",{className:"flex items-center text-sm text-green-500",children:[e.jsx(p,{className:"w-4 h-4 mr-1"})," DoÄŸrulandÄ±"]}):e.jsxs(x,{type:"button",variant:"outline",onClick:_,className:"text-orange-500 border-orange-500 hover:bg-orange-500/10",children:[e.jsx(g,{className:"w-4 h-4 mr-1"})," E-postayÄ± DoÄŸrula"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"E-posta adresinizi deÄŸiÅŸtirmek iÃ§in Supabase Auth ayarlarÄ±nÄ± kullanmanÄ±z gerekebilir."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Telefon NumarasÄ± (Ä°steÄŸe BaÄŸlÄ±)"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(t,{type:"tel",value:d,onChange:r=>h(r.target.value),placeholder:"Ã¶rn: 5xxxxxxxxx",className:"flex-grow",icon:e.jsx(U,{className:"w-4 h-4 text-muted-foreground"})}),d&&(y?e.jsxs("span",{className:"flex items-center text-sm text-green-500",children:[e.jsx(p,{className:"w-4 h-4 mr-1"})," DoÄŸrulandÄ±"]}):e.jsxs(x,{type:"button",variant:"outline",onClick:z,className:"text-orange-500 border-orange-500 hover:bg-orange-500/10",children:[e.jsx(g,{className:"w-4 h-4 mr-1"})," Telefonu DoÄŸrula"]}))]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Sosyal Medya BaÄŸlantÄ±larÄ± (Ä°steÄŸe BaÄŸlÄ±)"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(t,{name:"instagram",value:i.instagram,onChange:n,placeholder:"Instagram profil URL'niz",icon:e.jsx(l,{className:"w-4 h-4 text-muted-foreground"})}),e.jsx(t,{name:"facebook",value:i.facebook,onChange:n,placeholder:"Facebook profil URL'niz",icon:e.jsx(l,{className:"w-4 h-4 text-muted-foreground"})}),e.jsx(t,{name:"linkedin",value:i.linkedin,onChange:n,placeholder:"LinkedIn profil URL'niz",icon:e.jsx(l,{className:"w-4 h-4 text-muted-foreground"})}),e.jsx(t,{name:"x_twitter",value:i.x_twitter,onChange:n,placeholder:"X (Twitter) profil URL'niz",icon:e.jsx(l,{className:"w-4 h-4 text-muted-foreground"})}),e.jsx(t,{name:"other",value:i.other,onChange:n,placeholder:"DiÄŸer sosyal medya veya web sitesi URL'niz",icon:e.jsx(l,{className:"w-4 h-4 text-muted-foreground"})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(x,{type:"submit",className:"btn-primary",children:[e.jsx(P,{className:"w-4 h-4 mr-2"})," DeÄŸiÅŸiklikleri Kaydet"]})})]})};export{H as default};
