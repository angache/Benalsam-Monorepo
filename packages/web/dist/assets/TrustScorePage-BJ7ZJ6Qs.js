import{j as e}from"./query-tMv1bFhv.js";import{d as h,u as j,r as o}from"./router-Bq68dJ36.js";import{B as g,s as N}from"./auth-Dm-7ngQy.js";import{a as d}from"./images-C3EucWOq.js";import{m as v,a as k,an as b,o as y,S as w,aC as P,P as z,aD as C,aE as S}from"./ui-YP8xOIYG.js";import"./vendor-Bs7gn1Hv.js";import"./supabase-D6FkHI3a.js";const E={profile_completeness:{title:"Profil Doluluğu",icon:e.jsx(S,{className:"w-5 h-5 text-blue-500"}),description:"Profilinize isim, biyografi ve avatar ekleyerek puan kazanın.",maxPoints:20},email_verification:{title:"E-posta Doğrulaması",icon:e.jsx(C,{className:"w-5 h-5 text-green-500"}),description:"E-posta adresinizi doğrulayarak güvenliğinizi ve puanınızı artırın.",maxPoints:20},listings:{title:"Aktif İlanlar",icon:e.jsx(z,{className:"w-5 h-5 text-orange-500"}),description:"Yayınladığınız her aktif ilan size puan kazandırır (Maks. 20 puan).",maxPoints:20},completed_trades:{title:"Başarılı Takaslar",icon:e.jsx(P,{className:"w-5 h-5 text-purple-500"}),description:"Tamamladığınız her başarılı takas, güvenilirliğinizi kanıtlar.",maxPoints:20},reviews:{title:"Kullanıcı Yorumları",icon:e.jsx(w,{className:"w-5 h-5 text-yellow-500"}),description:"Aldığınız olumlu yorumlar puanınızı önemli ölçüde etkiler.",maxPoints:20}},q=()=>{const{userId:r}=h(),n=j(),[i,x]=o.useState(null),[u,c]=o.useState(!0);if(o.useEffect(()=>{if(!r)return;(async()=>{c(!0);const{data:s,error:t}=await N.from("profiles").select("*").eq("id",r).single();if(t||!s){console.error("Error fetching profile:",t),n(-1);return}x(s),c(!1)})()},[r,n]),u)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary"})});if(!i)return null;const f=i?.trust_score_breakdown||{},m=i?.trust_score||0,p=a=>{const s=f[a];return typeof s=="number"?s:typeof s=="object"&&s!==null&&"score"in s?s.score:0};return e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"max-w-2xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center mb-8",children:[e.jsx(g,{variant:"ghost",size:"icon",onClick:()=>n(-1),className:"mr-4 text-muted-foreground hover:text-foreground",children:e.jsx(k,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{className:"w-7 h-7 mr-3 text-primary"}),e.jsx("h1",{className:"text-2xl font-bold text-gradient",children:"Güven Puanı Detayları"})]})]}),e.jsxs("div",{className:"glass-effect rounded-2xl p-8",children:[e.jsx("p",{className:"text-muted-foreground mb-8 text-center",children:"Güven puanınız, platformdaki diğer kullanıcılara ne kadar güvenilir olduğunuzu gösterir. Puanınızı artırmak için aşağıdaki adımları tamamlayabilirsiniz."}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Toplam Puanınız"}),e.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 36 36",children:[e.jsx("path",{className:"text-slate-700",d:`M18 2.0845
                  a 15.9155 15.9155 0 0 1 0 31.831
                  a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"currentColor",strokeWidth:"3"}),e.jsx("path",{className:"text-primary",strokeDasharray:`${m}, 100`,d:`M18 2.0845
                  a 15.9155 15.9155 0 0 1 0 31.831
                  a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",transform:"rotate(90 18 18)"})]}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[e.jsx("span",{className:"text-4xl font-bold text-white",children:m}),e.jsx("span",{className:"text-lg text-muted-foreground",children:"/100"})]})]})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(E).map(([a,s])=>{const t=p(a),l=s.maxPoints>0&&t>=s.maxPoints;return e.jsx("div",{className:"p-3 rounded-lg bg-slate-800/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:d("flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",l?"bg-green-500/20":"bg-slate-700"),children:l?e.jsx(y,{className:"w-5 h-5 text-green-400"}):s.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("h4",{className:"font-semibold text-white",children:s.title}),e.jsxs("span",{className:d("font-bold",l?"text-green-400":"text-primary"),children:[t,s.maxPoints>0&&` / ${s.maxPoints}`]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.description})]})]})},a)})})]})]})};export{q as default};
