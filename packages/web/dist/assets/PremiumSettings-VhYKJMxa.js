import{j as e}from"./query-tMv1bFhv.js";import{r as i}from"./router-Bq68dJ36.js";import{d as E,B as u,t as Y}from"./auth-Dm-7ngQy.js";import{a7 as A,$ as O,a8 as $,U as d,ai as w,aj as _,V as m,B as k}from"./listings-CDgdt6vp.js";import{P as j}from"./premium-IPIOhhKl.js";import{a4 as o,S as p,ae as f,az as K,bh as I,T as V,m as Z,c as P,af as z,Z as q,t as H,k as L,b as R,ag as G,ah as J}from"./ui-YP8xOIYG.js";import"./vendor-Bs7gn1Hv.js";import"./images-C3EucWOq.js";import"./supabase-D6FkHI3a.js";const ie=()=>{const{currentUser:n}=E(),[r,C]=i.useState(null),[l,U]=i.useState(null),[g]=i.useState(A()),[M,b]=i.useState(!0),[N,y]=i.useState(null);i.useEffect(()=>{n&&T()},[n]);const T=async()=>{b(!0);try{const[s,a]=await Promise.all([O(n.id),$(n.id)]);C(s),U(a)}catch(s){console.error("Error loading user data:",s)}finally{b(!1)}},F=async s=>{y(s),Y({title:"🚧 Ödeme Sistemi Yakında!",description:"Premium üyelik sistemi geliştirme aşamasında. Çok yakında sizlerle! 🚀",duration:5e3}),y(null)},S=s=>s.includes("teklif")?e.jsx(q,{className:"w-4 h-4"}):s.includes("resim")||s.includes("fotoğraf")?e.jsx(H,{className:"w-4 h-4"}):s.includes("mesaj")?e.jsx(L,{className:"w-4 h-4"}):s.includes("öne çıkar")?e.jsx(p,{className:"w-4 h-4"}):s.includes("vitrin")||s.includes("görüntüleme")?e.jsx(R,{className:"w-4 h-4"}):s.includes("dosya")?e.jsx(G,{className:"w-4 h-4"}):s.includes("AI")||s.includes("Yapay")?e.jsx(z,{className:"w-4 h-4"}):s.includes("destek")?e.jsx(f,{className:"w-4 h-4"}):s.includes("kurumsal")||s.includes("rozet")?e.jsx(J,{className:"w-4 h-4"}):e.jsx(P,{className:"w-4 h-4"}),t=()=>r?.plan_slug||"basic",x=s=>t()===s,B=s=>{const a=t(),c=["basic","advanced","corporate"];return c.indexOf(s)>c.indexOf(a)},h=(s,a)=>a===-1?0:Math.min(s/a*100,100);return M?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary"})}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center justify-center gap-2 mb-2",children:[e.jsx(o,{className:"w-6 h-6 text-yellow-400"}),"Premium Üyelik"]}),e.jsx("p",{className:"text-muted-foreground",children:"Daha fazla özellik ve sınırsız kullanım için Premium'a geçin"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(d,{className:`${t()!=="basic"?"border-2 border-primary bg-gradient-to-br from-primary/5 to-primary/10":""}`,children:[e.jsx(w,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[t()==="corporate"&&e.jsx(o,{className:"w-5 h-5 text-yellow-400"}),t()==="advanced"&&e.jsx(p,{className:"w-5 h-5 text-blue-400"}),t()==="basic"&&e.jsx(f,{className:"w-5 h-5 text-gray-400"}),"Mevcut Planınız"]})}),e.jsx(m,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:r?.plan_name||"Temel Plan"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t()==="basic"?"Ücretsiz":`₺${g[t()]?.price}/ay`})]}),t()!=="basic"&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(K,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:"Sonraki ödeme: 15 Şubat 2024"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(I,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:t()==="basic"?"Ödeme yöntemi yok":"Visa ****1234"})]})]})})]}),e.jsxs(d,{children:[e.jsx(w,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-5 h-5 text-primary"}),"Bu Ay Kullanımınız"]})}),e.jsx(m,{children:l&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Teklifler"}),e.jsxs("span",{children:[l.offers_count||0," / ",r?.limits?.offers_per_month===-1?"∞":r?.limits?.offers_per_month||10]})]}),e.jsx(j,{value:h(l.offers_count||0,r?.limits?.offers_per_month||10),className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Mesajlar"}),e.jsxs("span",{children:[l.messages_count||0," / ",r?.limits?.messages_per_month===-1?"∞":r?.limits?.messages_per_month||50]})]}),e.jsx(j,{value:h(l.messages_count||0,r?.limits?.messages_per_month||50),className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Öne Çıkan Teklifler"}),e.jsxs("span",{children:[l.featured_offers_count||0," / ",r?.limits?.featured_offers_per_day===-1?"∞":(r?.limits?.featured_offers_per_day||0)*30]})]}),e.jsx(j,{value:h(l.featured_offers_count||0,(r?.limits?.featured_offers_per_day||0)*30),className:"h-2"})]})]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-6 text-center",children:"Planları Karşılaştırın"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Object.entries(g).map(([s,a],c)=>e.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},children:e.jsxs(d,{className:`relative h-full ${a.popular?"border-2 border-primary shadow-lg":x(s)?"border-2 border-green-500":"border border-border"}`,children:[a.popular&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsx(k,{className:"bg-primary text-primary-foreground px-3 py-1",children:"Önerilen"})}),x(s)&&e.jsx("div",{className:"absolute -top-3 right-4",children:e.jsx(k,{className:"bg-green-500 text-white px-3 py-1",children:"Mevcut Plan"})}),e.jsxs(m,{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold mb-2 flex items-center justify-center gap-2",children:[s==="corporate"&&e.jsx(o,{className:"w-5 h-5 text-yellow-400"}),s==="advanced"&&e.jsx(p,{className:"w-5 h-5 text-blue-400"}),s==="basic"&&e.jsx(f,{className:"w-5 h-5 text-gray-400"}),a.name]}),e.jsx("div",{className:"mb-4",children:a.price===0?e.jsx("span",{className:"text-2xl font-bold text-green-500",children:"Ücretsiz"}):e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-3xl font-bold",children:["₺",a.price]}),e.jsxs("span",{className:"text-muted-foreground",children:["/",a.period]})]})})]}),e.jsx("ul",{className:"space-y-3 mb-6",children:a.features.map((v,D)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx("div",{className:"mt-0.5",children:S(v)}),e.jsx("span",{children:v})]},D))}),e.jsx("div",{className:"mt-auto",children:x(s)?e.jsxs(u,{disabled:!0,className:"w-full",variant:"outline",children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"Mevcut Planınız"]}):B(s)?e.jsx(u,{onClick:()=>F(s),disabled:N===s,className:"w-full bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70",children:N===s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 mr-2 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Yükseltiliyor..."]}):e.jsxs(e.Fragment,{children:[e.jsx(o,{className:"w-4 h-4 mr-2"}),"Yükselt"]})}):e.jsx(u,{disabled:!0,className:"w-full",variant:"outline",children:"Mevcut Planınızdan Düşük"})})]})]})},s))})]}),e.jsx(d,{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/30",children:e.jsxs(m,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(z,{className:"w-5 h-5 text-blue-400"}),e.jsx("h4",{className:"font-semibold text-blue-400",children:"🎁 Özel Kampanyalar"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-muted-foreground",children:[e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:"• İlk ay %50 indirim"}),e.jsx("li",{children:"• 3 ay premium al, 1 ay hediye"})]}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:"• Yıllık üyelikte %20 indirim"}),e.jsx("li",{children:"• İlk teklifin öne çıkarılması ücretsiz"})]})]})]})})]})};export{ie as default};
