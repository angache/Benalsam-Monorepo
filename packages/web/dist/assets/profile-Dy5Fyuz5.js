import{j as e,u as J,a as X}from"./query-tMv1bFhv.js";import{r as f,d as I,u as ee,a as U,R as re,L as _,O as te}from"./router-Bq68dJ36.js";import{s as x,t as c,b as w,e as ae,B as g}from"./auth-CRgK8rPx.js";import{D as se,a as ie,b as le,c as ne,d as oe,e as ce,A as B,f as A,g as R,L as de,B as me}from"./listings-BLmNnY3e.js";import{an as C,o as ue,S as L,aC as fe,P as xe,aD as he,aE as ge,aF as pe,m as T,e as ye,aG as ve,aH as be,aI as we,aJ as je,l as ke,ah as D,a as Ne,I as _e,U as Pe,ae as ze,aK as Ce,k as Te,O as Ee,a4 as Se,C as qe}from"./ui-DwxUvrnm.js";const F=f.createContext(),We=({children:r})=>{const[a,i]=f.useState(()=>localStorage.getItem("benalsam_theme")||"dark");f.useEffect(()=>{localStorage.setItem("benalsam_theme",a),document.documentElement.setAttribute("data-theme",a)},[a]);const s=()=>{i(t=>t==="light"?"dark":"light")};return e.jsx(F.Provider,{value:{theme:a,toggleTheme:s},children:r})},H=r=>r?!0:(console.error("Function called with no userId"),!1),Ze=async r=>{if(!H(r))return null;try{const a=new Promise((l,d)=>setTimeout(()=>d(new Error("Profile fetch timeout")),15e3)),i=x.from("profiles").select("*").eq("id",r).single(),{data:s,error:t,status:o}=await Promise.race([i,a]);return t&&o!==406?(console.error("Error in fetchUserProfile:",{message:t.message,details:t.details,hint:t.hint,code:t.code}),t.message.toLowerCase().includes("failed to fetch")?c({title:"Ağ Hatası",description:"Profil bilgileri çekilemedi. Lütfen internet bağlantınızı kontrol edin ve tekrar deneyin.",variant:"destructive",duration:7e3}):c({title:"Profil Hatası",description:`Profil yüklenirken bir sorun oluştu: ${t.message}`,variant:"destructive"}),null):s||(console.warn(`No profile found for userId: ${r}`),null)}catch(a){return console.error("Error in fetchUserProfile:",a),c({title:"Beklenmedik Profil Hatası",description:"Profil yüklenirken beklenmedik bir sorun oluştu.",variant:"destructive"}),null}},De=async r=>{if(H(r))try{const{error:a}=await x.functions.invoke("increment-profile-view",{body:{userId:r}});if(a)throw a}catch(a){console.error("Error in incrementProfileView:",a.message)}},Ue=async(r,a)=>{if(!r||!a)return c({title:"Hata",description:"Takip eden veya takip edilen kullanıcı ID'si eksik.",variant:"destructive"}),null;if(r===a)return c({title:"Hata",description:"Kullanıcı kendini takip edemez.",variant:"destructive"}),null;try{const{data:i,error:s}=await x.from("user_follows").insert([{follower_id:r,following_id:a}]).select().single();return s?s.code==="23505"?(c({title:"Bilgi",description:"Bu kullanıcıyı zaten takip ediyorsunuz."}),{follower_id:r,following_id:a,already_following:!0}):(console.error("Error following user:",s),c({title:"Takip Edilemedi",description:s.message,variant:"destructive"}),null):(c({title:"Takip Edildi",description:"Kullanıcı başarıyla takip edildi."}),i)}catch(i){return console.error("Unexpected error in followUser:",i),c({title:"Beklenmedik Hata",description:"Kullanıcı takip edilirken bir hata oluştu.",variant:"destructive"}),null}},Be=async(r,a)=>{if(!r||!a)return c({title:"Hata",description:"Takip eden veya takip edilen kullanıcı ID'si eksik.",variant:"destructive"}),!1;try{const{error:i}=await x.from("user_follows").delete().eq("follower_id",r).eq("following_id",a);return i?(console.error("Error unfollowing user:",i),c({title:"Takipten Çıkılamadı",description:i.message,variant:"destructive"}),!1):(c({title:"Takipten Çıkıldı",description:"Kullanıcı takipten çıkarıldı."}),!0)}catch(i){return console.error("Unexpected error in unfollowUser:",i),c({title:"Beklenmedik Hata",description:"Kullanıcı takipten çıkarılırken bir hata oluştu.",variant:"destructive"}),!1}},Ae=async(r,a)=>{if(!r||!a)return!1;try{const{data:i,error:s,count:t}=await x.from("user_follows").select("*",{count:"exact",head:!0}).eq("follower_id",r).eq("following_id",a);return s?(console.error("Error checking follow status:",s),!1):t>0}catch(i){return console.error("Unexpected error in checkIfFollowing:",i),!1}},Je=async r=>{if(!r)return[];try{const{data:a,error:i}=await x.from("user_follows").select(`
        following_id,
        created_at,
        profiles:following_id (id, name, avatar_url, bio, followers_count, following_count)
      `).eq("follower_id",r).order("created_at",{ascending:!1});return i?(console.error("Error fetching following users:",i),c({title:"Takip Edilenler Yüklenemedi",description:i.message,variant:"destructive"}),[]):a.map(s=>({...s.profiles,followed_at:s.created_at}))}catch(a){return console.error("Unexpected error in fetchFollowingUsers:",a),c({title:"Beklenmedik Hata",description:"Takip edilenler yüklenirken bir hata oluştu.",variant:"destructive"}),[]}},Re={profile_completeness:{title:"Profil Doluluğu",icon:e.jsx(ge,{className:"w-5 h-5 text-blue-500"}),description:"Profilinize isim, biyografi ve avatar ekleyerek puan kazanın.",maxPoints:20},email_verification:{title:"E-posta Doğrulaması",icon:e.jsx(he,{className:"w-5 h-5 text-green-500"}),description:"E-posta adresinizi doğrulayarak güvenliğinizi ve puanınızı artırın.",maxPoints:20},listings:{title:"Aktif İlanlar",icon:e.jsx(xe,{className:"w-5 h-5 text-orange-500"}),description:"Yayınladığınız her aktif ilan size puan kazandırır (Maks. 20 puan).",maxPoints:20},completed_trades:{title:"Başarılı Takaslar",icon:e.jsx(fe,{className:"w-5 h-5 text-purple-500"}),description:"Tamamladığınız her başarılı takas, güvenilirliğinizi kanıtlar.",maxPoints:20},reviews:{title:"Kullanıcı Yorumları",icon:e.jsx(L,{className:"w-5 h-5 text-yellow-500"}),description:"Aldığınız olumlu yorumlar puanınızı önemli ölçüde etkiler.",maxPoints:20}},Le=({profile:r,children:a})=>{const i=r?.trust_score_breakdown||{},s=r?.trust_score||0,t=o=>{const l=i[o];return typeof l=="number"?l:typeof l=="object"&&l!==null&&"score"in l?l.score:0};return e.jsxs(se,{children:[e.jsx(ie,{asChild:!0,children:a}),e.jsxs(le,{className:"sm:max-w-[480px] bg-card/90 backdrop-blur-lg border-slate-700",children:[e.jsxs(ne,{children:[e.jsxs(oe,{className:"text-2xl font-bold text-gradient flex items-center gap-2",children:[e.jsx(C,{className:"w-6 h-6"}),"Güven Puanı Detayları"]}),e.jsx(ce,{children:"Güven puanınız, platformdaki diğer kullanıcılara ne kadar güvenilir olduğunuzu gösterir. Puanınızı artırmak için aşağıdaki adımları tamamlayabilirsiniz."})]}),e.jsxs("div",{className:"py-4 space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Toplam Puanınız"}),e.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 36 36",children:[e.jsx("path",{className:"text-slate-700",d:`M18 2.0845
                    a 15.9155 15.9155 0 0 1 0 31.831
                    a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"currentColor",strokeWidth:"3"}),e.jsx("path",{className:"text-primary",strokeDasharray:`${s}, 100`,d:`M18 2.0845
                    a 15.9155 15.9155 0 0 1 0 31.831
                    a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",transform:"rotate(90 18 18)"})]}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[e.jsx("span",{className:"text-4xl font-bold text-white",children:s}),e.jsx("span",{className:"text-lg text-muted-foreground",children:"/100"})]})]})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(Re).map(([o,l])=>{const d=t(o),m=l.maxPoints>0&&d>=l.maxPoints;return e.jsx("div",{className:"p-3 rounded-lg bg-slate-800/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:w("flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",m?"bg-green-500/20":"bg-slate-700"),children:m?e.jsx(ue,{className:"w-5 h-5 text-green-400"}):l.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("h4",{className:"font-semibold text-white",children:l.title}),e.jsxs("span",{className:w("font-bold",m?"text-green-400":"text-primary"),children:[d,l.maxPoints>0&&` / ${l.maxPoints}`]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:l.description})]})]})},o)})})]})]})]})},z=(r,a="Hata",i="Bir sorun oluştu")=>(console.error(`Error in ${a}:`,r),c({title:a,description:r?.message||i,variant:"destructive"}),null),Fe=r=>{const{reviewer_id:a,reviewee_id:i,offer_id:s,rating:t}=r;return!a||!i||!s||!t?(c({title:"Eksik Bilgi",description:"Yorum oluşturmak için gerekli tüm alanlar doldurulmalıdır.",variant:"destructive"}),!1):!0},Xe=async r=>{if(!Fe(r))return null;const{reviewer_id:a,reviewee_id:i,offer_id:s,rating:t,comment:o}=r;try{const{data:l,error:d}=await x.from("user_reviews").insert([{reviewer_id:a,reviewee_id:i,offer_id:s,rating:t,comment:o}]).select(`
        *,
        reviewer:profiles!reviewer_id (id, name, avatar_url),
        reviewee:profiles!reviewee_id (id, name, avatar_url),
        offers (
          id,
          listing_id,
          listings(id, title)
        )
      `).single();return d?d.code==="23505"?z(d,"Yorum Zaten Var","Bu takas için daha önce yorum yaptınız"):z(d,"Yorum Oluşturulamadı",d.message):(c({title:"Yorum Gönderildi! ⭐",description:"Yorumunuz başarıyla gönderildi."}),l)}catch(l){return z(l,"Beklenmedik Hata","Yorum oluşturulurken bir sorun oluştu")}},He=async r=>{if(!r)return[];try{const{data:a,error:i}=await x.from("user_reviews").select(`
        *,
        reviewer:profiles!reviewer_id (id, name, avatar_url),
        reviewee:profiles!reviewee_id (id, name, avatar_url),
        offers (id, listing_id, listings(id, title))
      `).eq("reviewee_id",r).order("created_at",{ascending:!1});return i?(console.error("Error in fetchUserReviews:",i),[]):a||[]}catch(a){return console.error("Error in fetchUserReviews:",a),[]}},Ie=async(r,a)=>{if(!r||!a)return!1;const{data:i,error:s}=await x.from("offers").select("listing_id, listings(user_id), offering_user_id, status").eq("id",a).single();if(s||!i)return console.error("Error fetching offer for review check or offer not found:",s),!1;if(i.status!=="accepted")return console.log("Review check: Offer not accepted."),!1;let t;if(r===i.offering_user_id)t=i.listings.user_id;else if(r===i.listings.user_id)t=i.offering_user_id;else return console.log("Review check: Reviewer is not part of this offer."),!1;if(r===t)return console.log("Review check: User cannot review themselves."),!1;const{data:o,error:l}=await x.from("user_reviews").select("id").eq("offer_id",a).eq("reviewer_id",r).eq("reviewee_id",t).maybeSingle();return l?(console.error("Error checking existing review:",l),!1):!o},$e=(r,a)=>{const i=J({queries:[{queryKey:["profile",r],queryFn:async()=>{if(!r)throw new Error("User ID is required");const{data:d,error:m}=await x.from("profiles").select("*").eq("id",r).single();if(m)throw m;return d},enabled:!!r,staleTime:3e5,gcTime:6e5,retry:2,retryDelay:1e3},{queryKey:["user-listings",r],queryFn:async()=>{if(!r)throw new Error("User ID is required");const{data:d,error:m}=await x.from("listings").select("*, user:profiles!user_id(id, name, avatar_url, rating)").eq("user_id",r).order("created_at",{ascending:!1});if(m)throw m;return d||[]},enabled:!!r,staleTime:12e4,gcTime:3e5,retry:2,retryDelay:1e3},{queryKey:["user-reviews",r],queryFn:async()=>{if(!r)throw new Error("User ID is required");return await He(r)},enabled:!!r,staleTime:18e4,gcTime:48e4,retry:2,retryDelay:1e3},{queryKey:["follow-status",a,r],queryFn:async()=>!a||!r||a===r?!1:await Ae(a,r),enabled:!!(a&&r&&a!==r),staleTime:6e4,gcTime:18e4,retry:1,retryDelay:500}]}),[s,t,o,l]=i;return{profile:s.data,listings:t.data||[],reviews:o.data||[],isFollowing:l.data||!1,isLoading:s.isLoading||t.isLoading||o.isLoading,isError:s.isError||t.isError||o.isError,error:s.error||t.error||o.error,refetch:()=>{s.refetch(),t.refetch(),o.refetch(),l.refetch()}}},$=(r,a)=>`https://source.boringavatars.com/beam/120/${(r?String(r).replace(/[^a-zA-Z0-9]/g,""):"")||(a?String(a).substring(0,8):"user")}?colors=ff6b35,f7931e,ff8c42,1a0f0a,2d1810`,K=re.memo(({reviews:r,currentUserId:a,onOpenLeaveReviewModal:i,profileData:s})=>!r||r.length===0?e.jsxs("div",{className:"text-center py-12 glass-effect rounded-xl",children:[e.jsx(C,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Henüz Yorum Yok"}),e.jsx("p",{className:"text-muted-foreground",children:"Bu kullanıcı hakkında henüz bir değerlendirme yapılmamış."})]}):e.jsx("div",{className:"space-y-6",children:r.map(t=>e.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-effect p-5 rounded-lg shadow-md",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(_,{to:`/profil/${t.reviewer.id}`,children:e.jsxs(B,{className:"w-12 h-12 border-2 border-primary/50",children:[e.jsx(A,{src:t.reviewer.avatar_url||$(t.reviewer.name,t.reviewer.id),alt:t.reviewer.name}),e.jsx(R,{children:t.reviewer.name?.charAt(0).toUpperCase()})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx(_,{to:`/profil/${t.reviewer.id}`,children:e.jsx("span",{className:"font-semibold text-foreground hover:text-primary",children:t.reviewer.name})}),e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((o,l)=>e.jsx(L,{className:w("w-4 h-4",l<t.rating?"text-yellow-400 fill-yellow-400":"text-muted-foreground/50")},l))})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:[new Date(t.created_at).toLocaleDateString("tr-TR",{year:"numeric",month:"long",day:"numeric"}),t.offers&&t.offers.listings&&e.jsxs(e.Fragment,{children:[' - "',e.jsx(_,{to:`/ilan/${t.offers.listings.id}`,className:"text-primary hover:underline",children:t.offers.listings.title}),'" ilanı için']})]}),e.jsx("p",{className:"text-sm text-foreground/90 whitespace-pre-wrap",children:t.comment||"Kullanıcı yorum bırakmadı."})]})]}),a&&t.offer_id&&t.reviewer_id!==a&&t.reviewee_id===a&&e.jsx("div",{className:"mt-3 text-right",children:e.jsx(g,{variant:"link",size:"sm",className:"text-primary",onClick:()=>{const o={id:t.offer_id,offering_user_id:t.reviewer_id,profiles:t.reviewer,listings:{id:t.offers.listings.id,title:t.offers.listings.title,profiles:{id:t.reviewee_id,name:s?.name}}};i(o)},children:"Cevap Ver (Değerlendir)"})})]},t.id))}));K.displayName="ProfileReviews";const Ke=({onOpenLeaveReviewModal:r,openAuthModal:a,onToggleFavorite:i})=>{const{userId:s}=I(),t=ee();U();const{theme:o}=f.useContext(F),{currentUser:l}=ae(),d=X(),[m,E]=f.useState("ilanlar"),[j,S]=f.useState(!1),p=l&&l.id===s,{profile:n,listings:k,reviews:q,isFollowing:y,isLoading:Y,isError:M,error:O,refetch:Q}=$e(s,l?.id),v=f.useMemo(()=>n?.name||n?.username||"İsimsiz Kullanıcı",[n]),G=f.useMemo(()=>v.charAt(0).toUpperCase(),[v]),V=f.useCallback(u=>{if(!u)return"Konum belirtilmemiş";const{province:h,district:P,neighborhood:N}=u;return[h,P,N].filter(Boolean).join(" / ")||"Konum belirtilmemiş"},[]),b=f.useCallback(({icon:u,label:h,value:P,onClick:N})=>e.jsxs("div",{className:w("glass-effect p-4 rounded-lg flex flex-col items-center justify-center text-center",N&&"cursor-pointer hover:bg-primary/10 transition-colors"),onClick:N,children:[u,e.jsx("span",{className:"text-2xl font-bold mt-1",children:P}),e.jsx("span",{className:"text-xs text-muted-foreground",children:h})]}),[]);f.useEffect(()=>{s&&l&&l.id!==s&&(sessionStorage.getItem(`viewed_profile_${s}`)||(De(s),sessionStorage.setItem(`viewed_profile_${s}`,"true")))},[s,l]);const W=f.useCallback(()=>{t("/ayarlar")},[t]),Z=f.useCallback(async()=>{if(!l){a("login");return}if(!(p||j||!n)){S(!0);try{let u;y?u=await Be(l.id,n.id):u=await Ue(l.id,n.id),u&&(d.invalidateQueries({queryKey:["follow-status",l.id,n.id]}),d.setQueryData(["profile",n.id],h=>h&&{...h,followers_count:y?Math.max(0,(h.followers_count||0)-1):(h.followers_count||0)+1}))}catch(u){console.error("Follow toggle error:",u)}finally{S(!1)}}},[l,p,j,n,y,a,d]);return Y?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Profil yükleniyor..."})]})}):M?e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center text-center p-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-destructive mb-4",children:"Profil Yüklenemedi"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:O?.message||"Profil bilgileri yüklenirken bir hata oluştu."}),e.jsxs("div",{className:"space-x-4",children:[e.jsxs(g,{onClick:()=>Q(),className:"btn-primary",children:[e.jsx(pe,{className:"w-4 h-4 mr-2"}),"Tekrar Dene"]}),e.jsx(g,{onClick:()=>t("/"),variant:"outline",children:"Ana Sayfaya Dön"})]})]}):n?e.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"relative bg-card/80 backdrop-blur-md shadow-xl rounded-2xl overflow-hidden p-6 md:p-8 mb-8",children:[e.jsx("div",{className:"absolute inset-x-0 top-0 h-32 bg-gradient-to-br from-primary/70 to-secondary/70 opacity-50 -z-10 transform -skew-y-3"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6 relative z-10",children:[e.jsxs(B,{className:"w-32 h-32 md:w-40 md:h-40 border-4 border-background shadow-lg",children:[e.jsx(A,{src:n.avatar_url||$(v,n.id),alt:v}),e.jsx(R,{className:"text-4xl bg-muted",children:G})]}),e.jsxs("div",{className:"flex-1 text-center md:text-left",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient mb-1",children:v}),n.username&&n.name&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",n.username]}),e.jsxs("p",{className:"text-muted-foreground flex items-center justify-center md:justify-start mt-2",children:[e.jsx(ye,{className:"w-4 h-4 mr-2 text-primary"}),V(n)]}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed max-w-prose mt-2",children:n.bio||(p?"Henüz bir biyografi eklemediniz.":"Kullanıcının biyografisi bulunmuyor.")})]}),p?e.jsxs(g,{onClick:W,className:"btn-secondary w-full md:w-auto mt-4 md:mt-0 self-center md:self-start",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"})," Profili ve Ayarları Düzenle"]}):l&&e.jsxs(g,{onClick:Z,disabled:j,className:w("w-full md:w-auto mt-4 md:mt-0 self-center md:self-start transition-all",y?"btn-secondary-amazon":"btn-primary"),children:[j?e.jsx(be,{className:"w-4 h-4 mr-2 animate-ping"}):y?e.jsx(we,{className:"w-4 h-4 mr-2"}):e.jsx(je,{className:"w-4 h-4 mr-2"}),y?"Takipten Çık":"Takip Et"]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4 mt-8 pt-6 border-t border-border/50",children:[e.jsx(b,{icon:e.jsx(ke,{className:"w-6 h-6 text-primary"}),label:"İlan Sayısı",value:k.length}),e.jsx(b,{icon:e.jsx(D,{className:"w-6 h-6 text-purple-500"}),label:"Takipçi",value:n.followers_count||0,onClick:()=>{c({title:"🚧 Bu özellik henüz uygulanmadı—ama merak etme! Bir sonraki istekte talep edebilirsin! 🚀"})}}),e.jsx(b,{icon:e.jsx(D,{className:"w-6 h-6 text-teal-500"}),label:"Takip Edilen",value:n.following_count||0,onClick:()=>t(`/takip-edilenler/${n.id}`)}),e.jsx(Le,{profile:n,children:e.jsx(b,{icon:e.jsx(C,{className:"w-6 h-6 text-yellow-400"}),label:"Güven Puanı",value:n.trust_score||0})}),e.jsx(b,{icon:e.jsx(Ne,{className:"w-6 h-6 text-blue-500"}),label:"Profil Görüntülenme",value:n.profile_views||0})]})]}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex border-b border-border/50",children:[e.jsxs("button",{onClick:()=>E("ilanlar"),className:`py-3 px-6 font-medium transition-colors duration-200 ${m==="ilanlar"?"text-primary border-b-2 border-primary":"text-muted-foreground hover:text-foreground"}`,children:["İlanlar (",k.length,")"]}),e.jsxs("button",{onClick:()=>E("yorumlar"),className:`py-3 px-6 font-medium transition-colors duration-200 ${m==="yorumlar"?"text-primary border-b-2 border-primary":"text-muted-foreground hover:text-foreground"}`,children:["Yorumlar (",q.length,")"]})]})}),m==="ilanlar"&&(k.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:k.map(u=>e.jsx(de,{listing:u,onToggleFavorite:i,currentUser:l},u.id))}):e.jsxs("div",{className:"text-center py-12 glass-effect rounded-xl",children:[e.jsx(_e,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Henüz İlan Yok"}),e.jsx("p",{className:"text-muted-foreground",children:p?"İlk ilanınızı oluşturarak başlayın!":"Bu kullanıcının henüz yayınlanmış bir ilanı bulunmuyor."}),p&&e.jsx(g,{onClick:()=>t("/ilan-olustur"),className:"mt-6 btn-primary",children:"İlan Oluştur"})]})),m==="yorumlar"&&e.jsx(K,{reviews:q,currentUserId:l?.id,onOpenLeaveReviewModal:r,profileData:n})]}):e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center text-center p-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-destructive mb-4",children:"Profil Bulunamadı"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Aradığınız kullanıcı profili mevcut değil veya bir hata oluştu."}),e.jsx(g,{onClick:()=>t("/"),className:"btn-primary",children:"Ana Sayfaya Dön"})]})},er=Object.freeze(Object.defineProperty({__proto__:null,default:Ke},Symbol.toStringTag,{value:"Module"})),Ye=()=>{const r=U(),a=[{path:"/ayarlar",icon:Pe,label:"Profil Ayarları",exact:!0},{path:"/ayarlar/hesap",icon:ze,label:"Hesap Güvenliği"},{path:"/ayarlar/bildirimler",icon:Ce,label:"Bildirim Ayarları"},{path:"/ayarlar/iletisim",icon:Te,label:"İletişim Tercihleri"},{path:"/ayarlar/platform",icon:Ee,label:"Platform Ayarları"},{path:"/ayarlar/premium",icon:Se,label:"Premium Üyelik",badge:"Yeni",badgeColor:"bg-gradient-to-r from-yellow-400 to-orange-500"}],i=(s,t=!1)=>t?r.pathname===s:r.pathname.startsWith(s);return e.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gradient mb-2",children:"Ayarlar"}),e.jsx("p",{className:"text-muted-foreground",children:"Hesap ve platform tercihlerinizi yönetin"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("nav",{className:"space-y-2",children:a.map(s=>{const t=s.icon,o=i(s.path,s.exact);return e.jsx(_,{to:s.path,children:e.jsx(g,{variant:o?"default":"ghost",className:`w-full justify-start text-left h-auto p-3 ${o?"bg-primary text-primary-foreground shadow-md":"hover:bg-muted/50 text-muted-foreground hover:text-foreground"}`,children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(t,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:s.label})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.badge&&e.jsx(me,{className:`text-xs px-2 py-0.5 text-white ${s.badgeColor||"bg-primary"}`,children:s.badge}),e.jsx(qe,{className:"w-3 h-3 opacity-50"})]})]})})},s.path)})})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx("div",{className:"glass-effect rounded-2xl p-6 min-h-[600px]",children:e.jsx(te,{})})})]})]})},rr=Object.freeze(Object.defineProperty({__proto__:null,default:Ye},Symbol.toStringTag,{value:"Module"}));export{er as P,rr as S,F as T,We as a,Je as b,Ie as c,Xe as d,Ze as f,Be as u};
