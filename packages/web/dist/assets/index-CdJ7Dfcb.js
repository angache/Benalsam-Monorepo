const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/auth-Dm-7ngQy.js","assets/query-tMv1bFhv.js","assets/router-Bq68dJ36.js","assets/vendor-Bs7gn1Hv.js","assets/images-C3EucWOq.js","assets/ui-YP8xOIYG.js","assets/supabase-D6FkHI3a.js","assets/listings-CDgdt6vp.js","assets/profile-COV-2-O0.js","assets/messaging-CzAnJxiR.js","assets/offers-BDMxQVY6.js","assets/premium-IPIOhhKl.js","assets/InventoryPage-CGQeggmH.js","assets/FavoritesPage-_PRkQUKR.js","assets/FollowingPage-BfhUTW-W.js","assets/NotFoundPage-BXzrYAPn.js","assets/ReportListingPage-mU84EJTi.js","assets/LeaveReviewPage-CwNWEJqS.js","assets/InventoryFormPage-DowXxVQ4.js","assets/StockImageSearchPage-vxhfn9or.js","assets/FollowCategoryPage-jIUvRGtC.js","assets/ListingRulesPage-CG3FjxUa.js","assets/TrustScorePage-BJ7ZJ6Qs.js","assets/UnpublishListingPage-HqGy4a4l.js","assets/ErrorTestComponent-y8UkHqZx.js","assets/ProfileSettings-b1C8SGPc.js","assets/ContactSettings-BahckW3-.js","assets/SecuritySettings-CX5Vs-9H.js","assets/NotificationSettings-Dg1cDNrh.js","assets/PlatformSettings-BGWGWQ2j.js","assets/AccountSettings-Cyw2sWk6.js","assets/FeedbackSection-MsKME-xT.js","assets/PlaceholderSettings-C4Scsik8.js","assets/PremiumSettings-VhYKJMxa.js","assets/index-C2UpOqSj.js"])))=>i.map(i=>d[i]);
import{j as e,b as Pt,Q as Ct,c as Rt}from"./query-tMv1bFhv.js";import{r as n,b as At,R as $,u as Ce,a as G,L as y,e as It,f as c,N as Re,B as St}from"./router-Bq68dJ36.js";import{a as Lt,g as Dt}from"./vendor-Bs7gn1Hv.js";import{a as W,b as zt,d as Ot}from"./images-C3EucWOq.js";import{w as Ft,al as Vt,am as Mt,a9 as Y,ab as Bt,ag as Kt,x as L,an as oe,ao as Ae,ap as $t,aq as Wt,ar as Gt,as as Yt,at as Ie,au as Se,av as Le,aw as De,ax as ie,ay as R,az as Ht,aA as qt,aB as Xt,ah as ze,A as Oe,j as Fe,k as Ve,B as D,aC as Qt,U as Zt,ai as Jt,aj as Ut,V as es}from"./listings-CDgdt6vp.js";import{u as Me,b as ts,g as ss,B as j,t as rs,d as Q}from"./auth-Dm-7ngQy.js";import{X as Be,aK as Ke,P as le,ac as as,ay as ns,k as K,aV as ue,aJ as $e,a4 as M,aW as We,ag as Ge,H as Ye,ah as He,aG as je,aX as qe,A as Xe,m as xe,Z as Qe,av as he,aY as is,aZ as os,a5 as ls,a_ as cs,aO as ms,M as ds,a9 as us,f as xs,a$ as hs,b0 as ps,b1 as fs,b2 as gs,L as Ze,aF as _e,a2 as js,a7 as vs}from"./ui-YP8xOIYG.js";import{T as Je,a as ys}from"./profile-COV-2-O0.js";import{_ as l}from"./supabase-D6FkHI3a.js";import"./offers-BDMxQVY6.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();var re={},Ee;function ws(){if(Ee)return re;Ee=1;var t=Lt();return re.createRoot=t.createRoot,re.hydrateRoot=t.hydrateRoot,re}var bs=ws();const Ns=Dt(bs);var ve="ToastProvider",[ye,_s,Es]=Vt("Toast"),[Ue,na]=Ft("Toast",[Es]),[Ts,ce]=Ue(ve),et=t=>{const{__scopeToast:r,label:s="Notification",duration:a=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:d}=t,[g,x]=n.useState(null),[u,_]=n.useState(0),T=n.useRef(!1),z=n.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${ve}\`. Expected non-empty \`string\`.`),e.jsx(ye.Provider,{scope:r,children:e.jsx(Ts,{scope:r,label:s,duration:a,swipeDirection:i,swipeThreshold:o,toastCount:u,viewport:g,onViewportChange:x,onToastAdd:n.useCallback(()=>_(I=>I+1),[]),onToastRemove:n.useCallback(()=>_(I=>I-1),[]),isFocusedToastEscapeKeyDownRef:T,isClosePausedRef:z,children:d})})};et.displayName=ve;var tt="ToastViewport",ks=["F8"],pe="toast.viewportPause",fe="toast.viewportResume",st=n.forwardRef((t,r)=>{const{__scopeToast:s,hotkey:a=ks,label:i="Notifications ({hotkey})",...o}=t,d=ce(tt,s),g=_s(s),x=n.useRef(null),u=n.useRef(null),_=n.useRef(null),T=n.useRef(null),z=Me(r,T,d.onViewportChange),I=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=d.toastCount>0;n.useEffect(()=>{const p=C=>{a.length!==0&&a.every(w=>C[w]||C.code===w)&&T.current?.focus()};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[a]),n.useEffect(()=>{const p=x.current,C=T.current;if(P&&p&&C){const h=()=>{if(!d.isClosePausedRef.current){const b=new CustomEvent(pe);C.dispatchEvent(b),d.isClosePausedRef.current=!0}},w=()=>{if(d.isClosePausedRef.current){const b=new CustomEvent(fe);C.dispatchEvent(b),d.isClosePausedRef.current=!1}},E=b=>{!p.contains(b.relatedTarget)&&w()},k=()=>{p.contains(document.activeElement)||w()};return p.addEventListener("focusin",h),p.addEventListener("focusout",E),p.addEventListener("pointermove",h),p.addEventListener("pointerleave",k),window.addEventListener("blur",h),window.addEventListener("focus",w),()=>{p.removeEventListener("focusin",h),p.removeEventListener("focusout",E),p.removeEventListener("pointermove",h),p.removeEventListener("pointerleave",k),window.removeEventListener("blur",h),window.removeEventListener("focus",w)}}},[P,d.isClosePausedRef]);const v=n.useCallback(({tabbingDirection:p})=>{const h=g().map(w=>{const E=w.ref.current,k=[E,...Ms(E)];return p==="forwards"?k:k.reverse()});return(p==="forwards"?h.reverse():h).flat()},[g]);return n.useEffect(()=>{const p=T.current;if(p){const C=h=>{const w=h.altKey||h.ctrlKey||h.metaKey;if(h.key==="Tab"&&!w){const k=document.activeElement,b=h.shiftKey;if(h.target===p&&b){u.current?.focus();return}const H=v({tabbingDirection:b?"backwards":"forwards"}),U=H.findIndex(B=>B===k);de(H.slice(U+1))?h.preventDefault():b?u.current?.focus():_.current?.focus()}};return p.addEventListener("keydown",C),()=>p.removeEventListener("keydown",C)}},[g,v]),e.jsxs(Mt,{ref:x,role:"region","aria-label":i.replace("{hotkey}",I),tabIndex:-1,style:{pointerEvents:P?void 0:"none"},children:[P&&e.jsx(ge,{ref:u,onFocusFromOutsideViewport:()=>{const p=v({tabbingDirection:"forwards"});de(p)}}),e.jsx(ye.Slot,{scope:s,children:e.jsx(Y.ol,{tabIndex:-1,...o,ref:z})}),P&&e.jsx(ge,{ref:_,onFocusFromOutsideViewport:()=>{const p=v({tabbingDirection:"backwards"});de(p)}})]})});st.displayName=tt;var rt="ToastFocusProxy",ge=n.forwardRef((t,r)=>{const{__scopeToast:s,onFocusFromOutsideViewport:a,...i}=t,o=ce(rt,s);return e.jsx(Ae,{"aria-hidden":!0,tabIndex:0,...i,ref:r,style:{position:"fixed"},onFocus:d=>{const g=d.relatedTarget;!o.viewport?.contains(g)&&a()}})});ge.displayName=rt;var Z="Toast",Ps="toast.swipeStart",Cs="toast.swipeMove",Rs="toast.swipeCancel",As="toast.swipeEnd",at=n.forwardRef((t,r)=>{const{forceMount:s,open:a,defaultOpen:i,onOpenChange:o,...d}=t,[g,x]=Bt({prop:a,defaultProp:i??!0,onChange:o,caller:Z});return e.jsx(Kt,{present:s||g,children:e.jsx(Ls,{open:g,...d,ref:r,onClose:()=>x(!1),onPause:oe(t.onPause),onResume:oe(t.onResume),onSwipeStart:L(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:L(t.onSwipeMove,u=>{const{x:_,y:T}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${_}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${T}px`)}),onSwipeCancel:L(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:L(t.onSwipeEnd,u=>{const{x:_,y:T}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${_}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${T}px`),x(!1)})})})});at.displayName=Z;var[Is,Ss]=Ue(Z,{onClose(){}}),Ls=n.forwardRef((t,r)=>{const{__scopeToast:s,type:a="foreground",duration:i,open:o,onClose:d,onEscapeKeyDown:g,onPause:x,onResume:u,onSwipeStart:_,onSwipeMove:T,onSwipeCancel:z,onSwipeEnd:I,...P}=t,v=ce(Z,s),[p,C]=n.useState(null),h=Me(r,f=>C(f)),w=n.useRef(null),E=n.useRef(null),k=i||v.duration,b=n.useRef(0),O=n.useRef(k),J=n.useRef(0),{onToastAdd:H,onToastRemove:U}=v,B=oe(()=>{p?.contains(document.activeElement)&&v.viewport?.focus(),d()}),ee=n.useCallback(f=>{!f||f===1/0||(window.clearTimeout(J.current),b.current=new Date().getTime(),J.current=window.setTimeout(B,f))},[B]);n.useEffect(()=>{const f=v.viewport;if(f){const F=()=>{ee(O.current),u?.()},V=()=>{const q=new Date().getTime()-b.current;O.current=O.current-q,window.clearTimeout(J.current),x?.()};return f.addEventListener(pe,V),f.addEventListener(fe,F),()=>{f.removeEventListener(pe,V),f.removeEventListener(fe,F)}}},[v.viewport,k,x,u,ee]),n.useEffect(()=>{o&&!v.isClosePausedRef.current&&ee(k)},[o,k,v.isClosePausedRef,ee]),n.useEffect(()=>(H(),()=>U()),[H,U]);const be=n.useMemo(()=>p?dt(p):null,[p]);return v.viewport?e.jsxs(e.Fragment,{children:[be&&e.jsx(Ds,{__scopeToast:s,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:be}),e.jsx(Is,{scope:s,onClose:B,children:At.createPortal(e.jsx(ye.ItemSlot,{scope:s,children:e.jsx($t,{asChild:!0,onEscapeKeyDown:L(g,()=>{v.isFocusedToastEscapeKeyDownRef.current||B(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Y.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...P,ref:h,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:L(t.onKeyDown,f=>{f.key==="Escape"&&(g?.(f.nativeEvent),f.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:L(t.onPointerDown,f=>{f.button===0&&(w.current={x:f.clientX,y:f.clientY})}),onPointerMove:L(t.onPointerMove,f=>{if(!w.current)return;const F=f.clientX-w.current.x,V=f.clientY-w.current.y,q=!!E.current,X=["left","right"].includes(v.swipeDirection),te=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Tt=X?te(0,F):0,kt=X?0:te(0,V),me=f.pointerType==="touch"?10:2,se={x:Tt,y:kt},Ne={originalEvent:f,delta:se};q?(E.current=se,ae(Cs,T,Ne,{discrete:!1})):Te(se,v.swipeDirection,me)?(E.current=se,ae(Ps,_,Ne,{discrete:!1}),f.target.setPointerCapture(f.pointerId)):(Math.abs(F)>me||Math.abs(V)>me)&&(w.current=null)}),onPointerUp:L(t.onPointerUp,f=>{const F=E.current,V=f.target;if(V.hasPointerCapture(f.pointerId)&&V.releasePointerCapture(f.pointerId),E.current=null,w.current=null,F){const q=f.currentTarget,X={originalEvent:f,delta:F};Te(F,v.swipeDirection,v.swipeThreshold)?ae(As,I,X,{discrete:!0}):ae(Rs,z,X,{discrete:!0}),q.addEventListener("click",te=>te.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Ds=t=>{const{__scopeToast:r,children:s,...a}=t,i=ce(Z,r),[o,d]=n.useState(!1),[g,x]=n.useState(!1);return Fs(()=>d(!0)),n.useEffect(()=>{const u=window.setTimeout(()=>x(!0),1e3);return()=>window.clearTimeout(u)},[]),g?null:e.jsx(Wt,{asChild:!0,children:e.jsx(Ae,{...a,children:o&&e.jsxs(e.Fragment,{children:[i.label," ",s]})})})},zs="ToastTitle",nt=n.forwardRef((t,r)=>{const{__scopeToast:s,...a}=t;return e.jsx(Y.div,{...a,ref:r})});nt.displayName=zs;var Os="ToastDescription",it=n.forwardRef((t,r)=>{const{__scopeToast:s,...a}=t;return e.jsx(Y.div,{...a,ref:r})});it.displayName=Os;var ot="ToastAction",lt=n.forwardRef((t,r)=>{const{altText:s,...a}=t;return s.trim()?e.jsx(mt,{altText:s,asChild:!0,children:e.jsx(we,{...a,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${ot}\`. Expected non-empty \`string\`.`),null)});lt.displayName=ot;var ct="ToastClose",we=n.forwardRef((t,r)=>{const{__scopeToast:s,...a}=t,i=Ss(ct,s);return e.jsx(mt,{asChild:!0,children:e.jsx(Y.button,{type:"button",...a,ref:r,onClick:L(t.onClick,i.onClose)})})});we.displayName=ct;var mt=n.forwardRef((t,r)=>{const{__scopeToast:s,altText:a,...i}=t;return e.jsx(Y.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...i,ref:r})});function dt(t){const r=[];return Array.from(t.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&r.push(a.textContent),Vs(a)){const i=a.ariaHidden||a.hidden||a.style.display==="none",o=a.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const d=a.dataset.radixToastAnnounceAlt;d&&r.push(d)}else r.push(...dt(a))}}),r}function ae(t,r,s,{discrete:a}){const i=s.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:s});r&&i.addEventListener(t,r,{once:!0}),a?Yt(i,o):i.dispatchEvent(o)}var Te=(t,r,s=0)=>{const a=Math.abs(t.x),i=Math.abs(t.y),o=a>i;return r==="left"||r==="right"?o&&a>s:!o&&i>s};function Fs(t=()=>{}){const r=oe(t);Gt(()=>{let s=0,a=0;return s=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(a)}},[r])}function Vs(t){return t.nodeType===t.ELEMENT_NODE}function Ms(t){const r=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function de(t){const r=document.activeElement;return t.some(s=>s===r?!0:(s.focus(),document.activeElement!==r))}var Bs=et,ut=st,xt=at,ht=nt,pt=it,ft=lt,gt=we;const Ks=Bs,jt=$.forwardRef(({className:t,...r},s)=>e.jsx(ut,{ref:s,className:W("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...r}));jt.displayName=ut.displayName;const $s=ts("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vt=$.forwardRef(({className:t,variant:r,...s},a)=>e.jsx(xt,{ref:a,className:W($s({variant:r}),t),...s}));vt.displayName=xt.displayName;const Ws=$.forwardRef(({className:t,...r},s)=>e.jsx(ft,{ref:s,className:W("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...r}));Ws.displayName=ft.displayName;const yt=$.forwardRef(({className:t,...r},s)=>e.jsx(gt,{ref:s,className:W("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...r,children:e.jsx(Be,{className:"h-4 w-4"})}));yt.displayName=gt.displayName;const wt=$.forwardRef(({className:t,...r},s)=>e.jsx(ht,{ref:s,className:W("text-sm font-semibold",t),...r}));wt.displayName=ht.displayName;const bt=$.forwardRef(({className:t,...r},s)=>e.jsx(pt,{ref:s,className:W("text-sm opacity-90",t),...r}));bt.displayName=pt.displayName;function Gs(){const{toasts:t}=ss();return e.jsxs(Ks,{children:[t.map(({id:r,title:s,description:a,action:i,...o})=>e.jsxs(vt,{...o,children:[e.jsxs("div",{className:"grid gap-1",children:[s&&e.jsx(wt,{children:s}),a&&e.jsx(bt,{children:a})]}),i,e.jsx(yt,{})]},r)),e.jsx(jt,{})]})}const Ys=t=>{const{type:r,data:s}=t;switch(r){case"NEW_OFFER":const a=s?.offerorName||"Bir kullanıcı",i=s?.listingTitle||"ilanınız";return{icon:e.jsx(le,{className:"w-5 h-5 text-primary"}),text:e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold",children:a}),", ",e.jsx("span",{className:"font-semibold text-primary",children:i})," için bir teklif yaptı."]}),link:"/aldigim-teklifler"};case"NEW_MESSAGE":const o=s?.senderName||"Bir kullanıcı",d=s?.messageSnippet||"...",g=s?.conversationId;return{icon:e.jsx(K,{className:"w-5 h-5 text-blue-500"}),text:e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold",children:o})," size bir mesaj gönderdi: ",e.jsxs("span",{className:"italic text-muted-foreground",children:['"',d,'..."']})]}),link:`/mesajlar/${g}`};case"LISTING_APPROVED":return{icon:e.jsx(ns,{className:"w-5 h-5 text-green-500"}),text:e.jsxs("span",{children:["Tebrikler! ",e.jsxs("span",{className:"font-semibold text-primary",children:['"',s?.listingTitle||"İlanınız",'"']})," onaylandı ve yayına alındı."]}),link:`/ilan/${s?.listingId}`};case"LISTING_REJECTED":return{icon:e.jsx(as,{className:"w-5 h-5 text-destructive"}),text:e.jsxs("span",{children:["Üzgünüz, ",e.jsxs("span",{className:"font-semibold text-primary",children:['"',s?.listingTitle||"ilanınız",'"']})," reddedildi. Detaylar için ilana gidin."]}),link:`/ilan/${s?.listingId}`};default:return{icon:e.jsx(Ke,{className:"w-5 h-5 text-muted-foreground"}),text:"Yeni bir bildiriminiz var.",link:"#"}}},Hs=({notification:t,onNotificationClick:r})=>{const s=Ce(),{icon:a,text:i,link:o}=n.useMemo(()=>Ys(t),[t]),d=()=>{o&&o!=="#"&&(r(t.id),s(o))};return e.jsxs(R,{onClick:d,className:`flex items-start gap-3 p-3 cursor-pointer transition-colors hover:!bg-primary/10 ${t.is_read?"":"bg-primary/5"}`,children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:a}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("p",{className:"text-sm text-foreground",children:i}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Ht(new Date(t.created_at),{addSuffix:!0,locale:qt})})]}),!t.is_read&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary self-center flex-shrink-0"})]})},qs=({notifications:t=[],unreadCount:r=0,onNotificationClick:s,onMarkAllAsRead:a})=>e.jsxs(Ie,{children:[e.jsx(Se,{asChild:!0,children:e.jsxs(j,{variant:"ghost",size:"icon",className:"relative text-muted-foreground hover:text-primary",children:[e.jsx(Ke,{className:"h-5 w-5"}),r>0&&e.jsx("div",{className:"absolute top-0 right-0 h-4 w-4 flex items-center justify-center rounded-full bg-destructive text-destructive-foreground text-xs font-bold",children:r>9?"9+":r}),e.jsx("span",{className:"sr-only",children:"Bildirimler"})]})}),e.jsxs(Le,{className:"w-80 md:w-96 glass-effect mt-2 mr-2 p-0",align:"end",children:[e.jsxs(De,{className:"flex justify-between items-center p-3",children:[e.jsx("span",{className:"font-semibold text-lg",children:"Bildirimler"}),r>0&&e.jsx(j,{variant:"link",size:"sm",className:"p-0 h-auto text-primary",onClick:a,children:"Tümünü okundu işaretle"})]}),e.jsx(ie,{className:"m-0"}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.length>0?t.map(i=>e.jsx(Hs,{notification:i,onNotificationClick:s},i.id)):e.jsxs("div",{className:"text-center p-8",children:[e.jsx(le,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Henüz bildiriminiz yok."})]})})]})]}),Nt=(t,r)=>`https://source.boringavatars.com/beam/40/${(t?String(t).replace(/[^a-zA-Z0-9]/g,""):"")||(r?String(r).substring(0,8):"user")}?colors=ff6b35,f7931e,ff8c42,1a0f0a,2d1810`,_t=t=>Pt({queryKey:["profile",t],queryFn:()=>Xt(t),enabled:!!t,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:2,retryDelay:1e3}),S={auth:()=>{l(()=>import("./auth-Dm-7ngQy.js").then(t=>t.A),__vite__mapDeps([0,1,2,3,4,5,6])),l(()=>import("./auth-Dm-7ngQy.js").then(t=>t.h),__vite__mapDeps([0,1,2,3,4,5,6]))},listings:()=>{l(()=>import("./listings-CDgdt6vp.js").then(t=>t.bR),__vite__mapDeps([7,2,3,0,1,4,5,6])),l(()=>import("./listings-CDgdt6vp.js").then(t=>t.bS),__vite__mapDeps([7,2,3,0,1,4,5,6])),l(()=>import("./listings-CDgdt6vp.js").then(t=>t.bT),__vite__mapDeps([7,2,3,0,1,4,5,6]))},profile:()=>{l(()=>import("./profile-COV-2-O0.js").then(t=>t.P),__vite__mapDeps([8,1,2,3,0,4,5,6,7])),l(()=>import("./profile-COV-2-O0.js").then(t=>t.S),__vite__mapDeps([8,1,2,3,0,4,5,6,7]))},messaging:()=>{l(()=>import("./messaging-CzAnJxiR.js").then(t=>t.C),__vite__mapDeps([9,1,2,3,7,0,4,5,6])),l(()=>import("./messaging-CzAnJxiR.js").then(t=>t.a),__vite__mapDeps([9,1,2,3,7,0,4,5,6]))},offers:()=>{l(()=>import("./offers-BDMxQVY6.js").then(t=>t.M),__vite__mapDeps([10,1,2,3,0,4,5,6,7])),l(()=>import("./offers-BDMxQVY6.js").then(t=>t.S),__vite__mapDeps([10,1,2,3,0,4,5,6,7])),l(()=>import("./offers-BDMxQVY6.js").then(t=>t.R),__vite__mapDeps([10,1,2,3,0,4,5,6,7]))},premium:()=>{l(()=>import("./premium-IPIOhhKl.js").then(t=>t.d),__vite__mapDeps([11,1,2,3,0,4,5,6,7])),l(()=>import("./premium-IPIOhhKl.js").then(t=>t.e),__vite__mapDeps([11,1,2,3,0,4,5,6,7])),l(()=>import("./premium-IPIOhhKl.js").then(t=>t.D),__vite__mapDeps([11,1,2,3,0,4,5,6,7]))}},Xs=t=>{const r=G();n.useEffect(()=>{const s=r.pathname;t?s==="/"||s.startsWith("/ilan/")?S.listings():s.startsWith("/profil/")?S.profile():s.startsWith("/mesajlar")?S.messaging():s.includes("teklif")?S.offers():(s.includes("premium")||s.includes("doping"))&&S.premium():S.auth()},[r.pathname,t])},A=t=>{switch(t){case"auth":S.auth();break;case"listings":S.listings();break;case"profile":S.profile();break;case"messaging":S.messaging();break;case"offers":S.offers();break;case"premium":S.premium();break;default:console.warn(`Unknown chunk: ${t}`)}},Qs=({currentUser:t,onLogout:r,onLoginClick:s,onRegisterClick:a,unreadMessagesCount:i})=>{const[o,d]=n.useState(!1),{data:g}=_t(t?.id);if(n.useEffect(()=>{t&&ze(t.id).then(d)},[t]),!t)return e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsxs(j,{variant:"ghost",onClick:s,className:"text-foreground hover:bg-primary/10 hidden sm:flex text-xs sm:text-sm px-2 sm:px-3 py-1 sm:py-2",children:[e.jsx(ue,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"})," Giriş"]}),e.jsxs(j,{onClick:a,className:"btn-primary text-primary-foreground hidden sm:flex text-xs sm:text-sm px-2 sm:px-3 py-1 sm:py-2",children:[e.jsx($e,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"})," Kayıt"]}),e.jsx(j,{variant:"ghost",size:"icon",onClick:s,className:"text-foreground hover:bg-primary/10 sm:hidden w-8 h-8",children:e.jsx(ue,{className:"w-4 h-4"})})]});const x=g?.name||t.name||t.user_metadata?.name||t.email||"Kullanıcı",u=g?.avatar_url||t.avatar_url||t.user_metadata?.avatar_url||Nt(x,t.id),_=x.charAt(0).toUpperCase();return e.jsxs(Ie,{children:[e.jsx(Se,{asChild:!0,children:e.jsxs(j,{variant:"ghost",className:"relative h-7 w-7 sm:h-9 sm:w-9 rounded-full p-0",children:[e.jsxs(Oe,{className:"h-6 w-6 sm:h-8 sm:w-8 border border-primary/50 hover:border-primary transition-colors",children:[e.jsx(Fe,{src:u,alt:x},u),e.jsx(Ve,{className:"text-xs sm:text-sm",children:_})]}),o&&e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:e.jsx(M,{className:"w-2.5 h-2.5 text-white"})})]})}),e.jsxs(Le,{className:"w-48 sm:w-56 glass-effect mt-2",align:"end",forceMount:!0,children:[e.jsx(De,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium leading-none text-foreground truncate",children:x}),o&&e.jsxs(D,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-xs px-1.5 py-0.5",children:[e.jsx(M,{className:"w-2.5 h-2.5 mr-1"}),"Premium"]})]}),t.email&&e.jsx("p",{className:"text-xs leading-none text-muted-foreground truncate",children:t.email})]})}),e.jsx(ie,{}),e.jsx(R,{asChild:!0,children:e.jsxs(y,{to:`/profil/${t.id}`,onMouseEnter:()=>A("profile"),className:"cursor-pointer flex items-center text-xs sm:text-sm",children:[e.jsx(We,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 text-primary"})," Profilim"]})}),e.jsx(R,{asChild:!0,children:e.jsxs(y,{to:"/mesajlarim",onMouseEnter:()=>A("messaging"),className:"cursor-pointer flex items-center text-xs sm:text-sm",children:[e.jsx(K,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 text-primary"}),e.jsx("span",{children:"Mesajlarım"}),i>0&&e.jsx(D,{className:"ml-auto bg-primary text-primary-foreground h-5 px-2",children:i})]})}),e.jsx(R,{asChild:!0,children:e.jsxs(y,{to:"/ilanlarim",onMouseEnter:()=>A("listings"),className:"cursor-pointer flex items-center text-xs sm:text-sm",children:[e.jsx(Ge,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 text-primary"})," İlanlarım"]})}),e.jsx(R,{asChild:!0,children:e.jsxs(y,{to:"/envanterim",onMouseEnter:()=>A("listings"),className:"cursor-pointer flex items-center text-xs sm:text-sm",children:[e.jsx(le,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 text-primary"})," Envanterim"]})}),e.jsx(R,{asChild:!0,children:e.jsxs(y,{to:"/favorilerim",onMouseEnter:()=>A("listings"),className:"cursor-pointer flex items-center text-xs sm:text-sm",children:[e.jsx(Ye,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 text-primary"})," Favorilerim"]})}),e.jsx(R,{asChild:!0,children:e.jsxs(y,{to:"/takip-edilenler",onMouseEnter:()=>A("profile"),className:"cursor-pointer flex items-center text-xs sm:text-sm",children:[e.jsx(He,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 text-primary"})," Takip Ettiklerim"]})}),e.jsx(ie,{}),e.jsx(R,{asChild:!0,children:e.jsxs(y,{to:"/aldigim-teklifler",onMouseEnter:()=>A("offers"),className:"cursor-pointer flex items-center text-xs sm:text-sm",children:[e.jsx(K,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 text-primary"})," Aldığım Teklifler"]})}),e.jsx(R,{asChild:!0,children:e.jsxs(y,{to:"/gonderdigim-teklifler",onMouseEnter:()=>A("offers"),className:"cursor-pointer flex items-center text-xs sm:text-sm",children:[e.jsx(K,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 rotate-180 text-primary"})," Gönderdiğim Teklifler"]})}),e.jsx(ie,{}),!o&&e.jsx(R,{asChild:!0,children:e.jsxs(y,{to:"/ayarlar/premium",onMouseEnter:()=>A("premium"),className:"cursor-pointer flex items-center text-xs sm:text-sm group",children:[e.jsx("div",{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:e.jsx(M,{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 text-white"})}),e.jsx("span",{className:"bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent font-medium group-hover:from-yellow-500 group-hover:to-orange-500",children:"Premium'a Geç"}),e.jsx(D,{className:"ml-auto bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-xs px-1.5 py-0.5",children:"Yeni"})]})}),o&&e.jsxs(e.Fragment,{children:[e.jsx(R,{asChild:!0,children:e.jsxs(y,{to:"/premium-dashboard",onMouseEnter:()=>A("premium"),className:"cursor-pointer flex items-center text-xs sm:text-sm",children:[e.jsx(M,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 text-yellow-500"})," Premium Dashboard"]})}),e.jsx(R,{asChild:!0,children:e.jsxs(y,{to:"/ayarlar/premium",onMouseEnter:()=>A("premium"),className:"cursor-pointer flex items-center text-xs sm:text-sm",children:[e.jsx(M,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 text-yellow-500"})," Premium Ayarlar"]})})]}),e.jsx(R,{asChild:!0,children:e.jsxs(y,{to:"/ayarlar",onMouseEnter:()=>A("profile"),className:"cursor-pointer flex items-center text-xs sm:text-sm",children:[e.jsx(je,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 text-primary"})," Ayarlar"]})}),e.jsxs(R,{onClick:r,className:"cursor-pointer flex items-center text-destructive hover:!bg-destructive/10 hover:!text-destructive focus:!bg-destructive/20 focus:!text-destructive text-xs sm:text-sm",children:[e.jsx(qe,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"})," Çıkış Yap"]})]})]})},Zs=({isOpen:t,setIsOpen:r,currentUser:s,onLogout:a,onLoginClick:i,onRegisterClick:o,onCreateClick:d,unreadMessagesCount:g})=>{const[x,u]=n.useState(!1),{data:_}=_t(s?.id);return n.useEffect(()=>{s&&ze(s.id).then(u)},[s]),e.jsx(Xe,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40 bg-black/60 backdrop-blur-sm lg:hidden",onClick:()=>r(!1)}),e.jsx(xe.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:20,stiffness:300},className:"fixed right-0 top-0 h-full w-72 max-w-[85vw] z-50 glass-effect border-l border-border/50 overflow-y-auto lg:hidden",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[e.jsx(y,{to:"/",className:"flex items-center",onClick:()=>r(!1),children:e.jsxs("div",{className:"flex items-center text-lg sm:text-xl font-bold text-gradient",children:[e.jsx(Qe,{className:"h-5 w-5 sm:h-6 sm:w-6 mr-1 sm:mr-2"}),"BenAlsam"]})}),e.jsx(j,{variant:"ghost",size:"icon",onClick:()=>r(!1),className:"text-muted-foreground hover:text-foreground w-8 h-8",children:e.jsx(Be,{className:"w-4 h-4"})})]}),s?e.jsx("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 glass-effect rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(Oe,{className:"h-10 w-10 sm:h-12 sm:w-12 border-2 border-primary/50",children:[e.jsx(Fe,{src:_?.avatar_url||s.avatar_url||s.user_metadata?.avatar_url||Nt(s.name||s.email,s.id)}),e.jsx(Ve,{className:"text-sm",children:(_?.name||s.name||s.email||"U").charAt(0).toUpperCase()})]}),x&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:e.jsx(M,{className:"w-3 h-3 text-white"})})]}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"font-medium text-foreground text-sm truncate",children:_?.name||s.name||s.user_metadata?.name||s.email}),x&&e.jsx(D,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-xs px-1.5 py-0.5",children:"Premium"})]}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:s.email})]})]})}):e.jsxs("div",{className:"space-y-3 mb-4 sm:mb-6",children:[e.jsxs(j,{onClick:()=>{i(),r(!1)},className:"w-full btn-primary text-primary-foreground text-sm",children:[e.jsx(ue,{className:"w-4 h-4 mr-2"})," Giriş Yap"]}),e.jsxs(j,{onClick:()=>{o(),r(!1)},variant:"outline",className:"w-full text-sm",children:[e.jsx($e,{className:"w-4 h-4 mr-2"})," Kayıt Ol"]})]}),e.jsxs("nav",{className:"space-y-1 sm:space-y-2",children:[e.jsxs(j,{onClick:()=>{d(),r(!1)},className:"w-full btn-primary text-primary-foreground justify-start text-sm",children:[e.jsx(he,{className:"w-4 h-4 mr-3"})," İlan Oluştur"]}),s&&e.jsxs(e.Fragment,{children:[e.jsx(y,{to:`/profil/${s.id}`,onClick:()=>r(!1),children:e.jsxs(j,{variant:"ghost",className:"w-full justify-start text-sm",children:[e.jsx(We,{className:"w-4 h-4 mr-3"})," Profilim"]})}),e.jsx(y,{to:"/mesajlarim",onClick:()=>r(!1),children:e.jsxs(j,{variant:"ghost",className:"w-full justify-start text-sm",children:[e.jsx(K,{className:"w-4 h-4 mr-3"}),e.jsx("span",{children:"Mesajlarım"}),g>0&&e.jsx(D,{className:"ml-auto bg-primary text-primary-foreground h-5 px-2",children:g})]})}),e.jsx(y,{to:"/ilanlarim",onClick:()=>r(!1),children:e.jsxs(j,{variant:"ghost",className:"w-full justify-start text-sm",children:[e.jsx(Ge,{className:"w-4 h-4 mr-3"})," İlanlarım"]})}),e.jsx(y,{to:"/envanterim",onClick:()=>r(!1),children:e.jsxs(j,{variant:"ghost",className:"w-full justify-start text-sm",children:[e.jsx(le,{className:"w-4 h-4 mr-3"})," Envanterim"]})}),e.jsx(y,{to:"/favorilerim",onClick:()=>r(!1),children:e.jsxs(j,{variant:"ghost",className:"w-full justify-start text-sm",children:[e.jsx(Ye,{className:"w-4 h-4 mr-3"})," Favorilerim"]})}),e.jsx(y,{to:"/takip-edilenler",onClick:()=>r(!1),children:e.jsxs(j,{variant:"ghost",className:"w-full justify-start text-sm",children:[e.jsx(He,{className:"w-4 h-4 mr-3"})," Takip Ettiklerim"]})}),e.jsx(y,{to:"/aldigim-teklifler",onClick:()=>r(!1),children:e.jsxs(j,{variant:"ghost",className:"w-full justify-start text-sm",children:[e.jsx(K,{className:"w-4 h-4 mr-3"})," Aldığım Teklifler"]})}),e.jsx(y,{to:"/gonderdigim-teklifler",onClick:()=>r(!1),children:e.jsxs(j,{variant:"ghost",className:"w-full justify-start text-sm",children:[e.jsx(K,{className:"w-4 h-4 mr-3 rotate-180"})," Gönderdiğim Teklifler"]})}),!x&&e.jsx(y,{to:"/ayarlar/premium",onClick:()=>r(!1),children:e.jsxs(j,{variant:"ghost",className:"w-full justify-start text-sm group bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-950/20 dark:to-orange-950/20 border border-yellow-200 dark:border-yellow-800",children:[e.jsx("div",{className:"w-4 h-4 mr-3 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:e.jsx(M,{className:"w-2.5 h-2.5 text-white"})}),e.jsx("span",{className:"bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent font-medium",children:"Premium'a Geç"}),e.jsx(D,{className:"ml-auto bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-xs px-1.5 py-0.5",children:"Yeni"})]})}),x&&e.jsx(y,{to:"/ayarlar/premium",onClick:()=>r(!1),children:e.jsxs(j,{variant:"ghost",className:"w-full justify-start text-sm",children:[e.jsx(M,{className:"w-4 h-4 mr-3 text-yellow-500"})," Premium Üyelik"]})}),e.jsx(y,{to:"/ayarlar",onClick:()=>r(!1),children:e.jsxs(j,{variant:"ghost",className:"w-full justify-start text-sm",children:[e.jsx(je,{className:"w-4 h-4 mr-3"})," Ayarlar"]})}),e.jsxs(j,{onClick:()=>{a(),r(!1)},variant:"ghost",className:"w-full justify-start text-destructive hover:bg-destructive/10 text-sm",children:[e.jsx(qe,{className:"w-4 h-4 mr-3"})," Çıkış Yap"]})]})]})]})})]})})},Js=({currentUser:t,onLogout:r,onLoginClick:s,onRegisterClick:a,onCreateClick:i,notifications:o,unreadCount:d,unreadMessagesCount:g,onNotificationClick:x,onMarkAllAsRead:u})=>{const{theme:_,toggleTheme:T}=n.useContext(Je),[z,I]=n.useState(!1);return n.useEffect(()=>{const P=()=>I(!1);return window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]),e.jsxs(e.Fragment,{children:[e.jsx(xe.header,{initial:{y:-80,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:70,damping:20,delay:.1},className:"fixed top-0 left-0 right-0 z-50 h-14 sm:h-16 lg:h-20 bg-background/80 backdrop-blur-lg shadow-lg border-b border-border/50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8 h-full flex items-center justify-between",children:[e.jsx(y,{to:"/",className:"flex items-center min-w-0",children:e.jsxs("div",{className:"flex items-center text-base sm:text-lg lg:text-2xl font-bold text-gradient",children:[e.jsx(Qe,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-8 lg:w-8 mr-1 sm:mr-2 flex-shrink-0"}),e.jsx("span",{className:"hidden xs:inline truncate",children:"BenAlsam"})]})}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 lg:gap-3",children:[e.jsxs(j,{variant:"ghost",size:"icon",onClick:T,className:"text-muted-foreground hover:text-primary h-7 w-7 sm:h-8 sm:w-8 lg:h-10 lg:w-10",children:[_==="dark"?e.jsx(is,{className:"h-3 w-3 sm:h-4 sm:w-4 lg:h-5 lg:w-5"}):e.jsx(os,{className:"h-3 w-3 sm:h-4 sm:h-4 lg:h-5 lg:w-5"}),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]}),e.jsxs(j,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-primary h-7 w-7 sm:h-8 sm:w-8 lg:h-10 lg:w-10",children:[e.jsx(ls,{className:"h-3 w-3 sm:h-4 sm:w-4 lg:h-5 lg:w-5"}),e.jsx("span",{className:"sr-only",children:"Ara"})]}),t&&e.jsx(qs,{notifications:o,unreadCount:d,onNotificationClick:x,onMarkAllAsRead:u}),e.jsxs(j,{onClick:i,onMouseEnter:()=>A("listings"),className:"btn-primary text-primary-foreground hidden md:flex text-xs lg:text-sm px-2 lg:px-4 py-1 lg:py-2",children:[e.jsx(he,{className:"w-3 h-3 lg:w-4 lg:h-4 mr-1 lg:mr-2"})," İlan Oluştur"]}),e.jsx(j,{onClick:i,onMouseEnter:()=>A("listings"),size:"icon",className:"btn-primary text-primary-foreground md:hidden h-7 w-7 sm:h-8 sm:w-8",children:e.jsx(he,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),e.jsx("div",{className:"hidden lg:block",children:e.jsx(Qs,{currentUser:t,onLogout:r,onLoginClick:s,onRegisterClick:a,unreadMessagesCount:g})}),e.jsx(j,{variant:"ghost",size:"icon",onClick:()=>I(!0),className:"lg:hidden text-muted-foreground hover:text-primary h-7 w-7 sm:h-8 sm:w-8",children:e.jsx(cs,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})}),e.jsx(Zs,{isOpen:z,setIsOpen:I,currentUser:t,onLogout:r,onLoginClick:s,onRegisterClick:a,onCreateClick:i,unreadMessagesCount:g})]})},Us=()=>{const t=new Date().getFullYear(),r=[{title:"BenAlsam Hakkında",content:"BenAlsam, kullanıcıların ikinci el eşyalarını ve hizmetlerini güvenle takas edebilecekleri, topluluk odaklı bir platformdur. Amacımız, sürdürülebilir tüketimi teşvik etmek ve insanları bir araya getirmektir."},{title:"İletişim",links:[{text:"destek@benalsam.com",icon:e.jsx(ds,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2 text-primary"}),href:"mailto:destek@benalsam.com"},{text:"+90 (555) 123 4567",icon:e.jsx(us,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2 text-primary"}),href:"tel:+905551234567"},{text:"Takas Sokak, No:1, İstanbul",icon:e.jsx(xs,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2 text-primary"}),href:"#"}]},{title:"Faydalı Linkler",links:[{text:"Ana Sayfa",href:"/"},{text:"Envanterim",href:"/envanterim"},{text:"Profilim",href:"/profil/me"},{text:"Gönderdiğim Teklifler",href:"/gonderdigim-teklifler"},{text:"Aldığım Teklifler",href:"/aldigim-teklifler"}]},{title:"Bizi Takip Edin",social:[{icon:e.jsx(hs,{className:"w-4 h-4 sm:w-5 sm:h-5 hover:text-primary transition-colors"}),href:"#",name:"Twitter"},{icon:e.jsx(ps,{className:"w-4 h-4 sm:w-5 sm:h-5 hover:text-primary transition-colors"}),href:"#",name:"Facebook"},{icon:e.jsx(fs,{className:"w-4 h-4 sm:w-5 sm:h-5 hover:text-primary transition-colors"}),href:"#",name:"Instagram"},{icon:e.jsx(gs,{className:"w-4 h-4 sm:w-5 sm:h-5 hover:text-primary transition-colors"}),href:"#",name:"LinkedIn"}]}];return e.jsxs("footer",{className:"bg-card text-card-foreground border-t border-border/50 mt-8 sm:mt-12 lg:mt-16",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8 pt-8 sm:pt-12",children:e.jsx(Qt,{placement:"footer_banner"})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8 pt-8 sm:pt-12 pb-6 sm:pb-8",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:r.map(s=>e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-base sm:text-lg text-foreground mb-3 sm:mb-4",children:s.title}),s.content&&e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground leading-relaxed",children:s.content}),s.links&&e.jsx("ul",{className:"space-y-1 sm:space-y-2",children:s.links.map(a=>e.jsx("li",{children:e.jsxs(y,{to:a.href,className:"text-xs sm:text-sm text-muted-foreground hover:text-primary transition-colors flex items-center",children:[a.icon,e.jsx("span",{children:a.text})]})},a.text))}),s.social&&e.jsx("div",{className:"flex space-x-3 sm:space-x-4 mt-1",children:s.social.map(a=>e.jsx("a",{href:a.href,"aria-label":a.name,className:"text-muted-foreground hover:text-primary transition-colors",onClick:i=>{i.preventDefault(),rs({title:"🚧 Çok Yakında!",description:`${a.name} sayfamız henüz hazır değil.`})},children:a.icon},a.name))})]},s.title))}),e.jsx("div",{className:"border-t border-border/50 mt-6 sm:mt-8 lg:mt-10 pt-6 sm:pt-8 text-center",children:e.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["© ",t," BenAlsam. Tüm hakları saklıdır.",e.jsxs(y,{to:"/",className:"ml-2 text-primary hover:underline flex items-center justify-center mt-1",children:[e.jsx(ms,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"})," BenAlsam Projesi"]})]})})]})]})};class Et extends $.Component{constructor(r){super(r),this.state={hasError:!1,error:null,errorInfo:null,retryCount:0}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,s){console.error("ErrorBoundary caught an error:",r,s),this.setState({error:r,errorInfo:s})}handleRetry=()=>{this.setState(r=>({hasError:!1,error:null,errorInfo:null,retryCount:r.retryCount+1}))};handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null,retryCount:0})};render(){if(this.state.hasError){const{fallback:r,onError:s}=this.props;return r?e.jsx(r,{error:this.state.error,errorInfo:this.state.errorInfo,retryCount:this.state.retryCount,onRetry:this.handleRetry,onReset:this.handleReset}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 text-center mb-2",children:"Bir Hata Oluştu"}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Beklenmeyen bir hata oluştu. Lütfen tekrar deneyin veya sayfayı yenileyin."}),this.state.retryCount>0&&e.jsxs("p",{className:"text-sm text-gray-500 text-center mb-4",children:["Deneme sayısı: ",this.state.retryCount]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:this.handleRetry,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Tekrar Dene"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:"Sayfayı Yenile"})]}),!1]})})}return this.props.children}}const er=({error:t,errorInfo:r,retryCount:s,onRetry:a,onReset:i})=>e.jsx("div",{className:"min-h-[400px] flex items-center justify-center bg-gray-50 px-4 py-8",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-orange-100 rounded-full mb-4",children:e.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Sayfa Yüklenemedi"}),e.jsx("p",{className:"text-gray-600 text-center mb-4 text-sm",children:"Bu sayfayı yüklerken bir hata oluştu. Lütfen tekrar deneyin."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:a,className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded-md hover:bg-blue-700 transition-colors text-sm",children:"Tekrar Dene"}),e.jsx("button",{onClick:()=>window.history.back(),className:"flex-1 bg-gray-600 text-white px-3 py-2 rounded-md hover:bg-gray-700 transition-colors text-sm",children:"Geri Dön"})]}),!1]})}),tr=({children:t,pageName:r="Sayfa"})=>e.jsx(Et,{fallback:er,onError:(s,a)=>{console.error(`Page Error in ${r}:`,s,a)},children:t}),sr=n.lazy(()=>l(()=>import("./listings-CDgdt6vp.js").then(t=>t.bU),__vite__mapDeps([7,2,3,0,1,4,5,6]))),rr=n.lazy(()=>l(()=>import("./profile-COV-2-O0.js").then(t=>t.P),__vite__mapDeps([8,1,2,3,0,4,5,6,7]))),ar=n.lazy(()=>l(()=>import("./InventoryPage-CGQeggmH.js"),__vite__mapDeps([12,1,2,3,0,4,5,6,7]))),nr=n.lazy(()=>l(()=>import("./listings-CDgdt6vp.js").then(t=>t.bV),__vite__mapDeps([7,2,3,0,1,4,5,6]))),ir=n.lazy(()=>l(()=>import("./listings-CDgdt6vp.js").then(t=>t.bR),__vite__mapDeps([7,2,3,0,1,4,5,6]))),or=n.lazy(()=>l(()=>import("./offers-BDMxQVY6.js").then(t=>t.S),__vite__mapDeps([10,1,2,3,0,4,5,6,7]))),lr=n.lazy(()=>l(()=>import("./offers-BDMxQVY6.js").then(t=>t.R),__vite__mapDeps([10,1,2,3,0,4,5,6,7]))),cr=n.lazy(()=>l(()=>import("./messaging-CzAnJxiR.js").then(t=>t.C),__vite__mapDeps([9,1,2,3,7,0,4,5,6]))),mr=n.lazy(()=>l(()=>import("./messaging-CzAnJxiR.js").then(t=>t.a),__vite__mapDeps([9,1,2,3,7,0,4,5,6]))),dr=n.lazy(()=>l(()=>import("./auth-Dm-7ngQy.js").then(t=>t.h),__vite__mapDeps([0,1,2,3,4,5,6]))),ur=n.lazy(()=>l(()=>import("./FavoritesPage-_PRkQUKR.js"),__vite__mapDeps([13,1,2,3,0,4,5,6,7]))),ke=n.lazy(()=>l(()=>import("./FollowingPage-BfhUTW-W.js"),__vite__mapDeps([14,1,2,3,0,4,5,6,7]))),xr=n.lazy(()=>l(()=>import("./NotFoundPage-BXzrYAPn.js"),__vite__mapDeps([15,1,2,3,0,4,5,6])));n.lazy(()=>l(()=>import("./listings-CDgdt6vp.js").then(t=>t.bQ),__vite__mapDeps([7,2,3,0,1,4,5,6])));const hr=n.lazy(()=>l(()=>import("./listings-CDgdt6vp.js").then(t=>t.bW),__vite__mapDeps([7,2,3,0,1,4,5,6]))),pr=n.lazy(()=>l(()=>import("./listings-CDgdt6vp.js").then(t=>t.bS),__vite__mapDeps([7,2,3,0,1,4,5,6]))),fr=n.lazy(()=>l(()=>import("./auth-Dm-7ngQy.js").then(t=>t.A),__vite__mapDeps([0,1,2,3,4,5,6]))),gr=n.lazy(()=>l(()=>import("./offers-BDMxQVY6.js").then(t=>t.M),__vite__mapDeps([10,1,2,3,0,4,5,6,7]))),jr=n.lazy(()=>l(()=>import("./ReportListingPage-mU84EJTi.js"),__vite__mapDeps([16,1,2,3,0,4,5,6,7]))),vr=n.lazy(()=>l(()=>import("./LeaveReviewPage-CwNWEJqS.js"),__vite__mapDeps([17,1,2,3,0,4,5,6,7]))),Pe=n.lazy(()=>l(()=>import("./InventoryFormPage-DowXxVQ4.js"),__vite__mapDeps([18,1,2,3,0,4,5,6,7]))),yr=n.lazy(()=>l(()=>import("./listings-CDgdt6vp.js").then(t=>t.bT),__vite__mapDeps([7,2,3,0,1,4,5,6]))),wr=n.lazy(()=>l(()=>import("./StockImageSearchPage-vxhfn9or.js"),__vite__mapDeps([19,1,2,3,0,4,5,6,7]))),br=n.lazy(()=>l(()=>import("./FollowCategoryPage-jIUvRGtC.js"),__vite__mapDeps([20,1,2,3,0,4,5,6,7]))),Nr=n.lazy(()=>l(()=>import("./ListingRulesPage-CG3FjxUa.js"),__vite__mapDeps([21,1,2,3,0,4,5,6]))),_r=n.lazy(()=>l(()=>import("./premium-IPIOhhKl.js").then(t=>t.D),__vite__mapDeps([11,1,2,3,0,4,5,6,7]))),Er=n.lazy(()=>l(()=>import("./premium-IPIOhhKl.js").then(t=>t.d),__vite__mapDeps([11,1,2,3,0,4,5,6,7]))),Tr=n.lazy(()=>l(()=>import("./TrustScorePage-BJ7ZJ6Qs.js"),__vite__mapDeps([22,1,2,3,0,4,5,6]))),kr=n.lazy(()=>l(()=>import("./UnpublishListingPage-HqGy4a4l.js"),__vite__mapDeps([23,1,2,3,0,4,5,6,7])));n.lazy(()=>l(()=>import("./ErrorTestComponent-y8UkHqZx.js"),__vite__mapDeps([24,1,2,3,0,4,5,6,7,8,10])));const Pr=n.lazy(()=>l(()=>import("./profile-COV-2-O0.js").then(t=>t.S),__vite__mapDeps([8,1,2,3,0,4,5,6,7]))),Cr=n.lazy(()=>l(()=>import("./ProfileSettings-b1C8SGPc.js"),__vite__mapDeps([25,1,2,3,0,4,5,6,7]))),Rr=n.lazy(()=>l(()=>import("./ContactSettings-BahckW3-.js"),__vite__mapDeps([26,1,2,3,0,4,5,6,7]))),Ar=n.lazy(()=>l(()=>import("./SecuritySettings-CX5Vs-9H.js"),__vite__mapDeps([27,1,2,3,0,4,5,6,7]))),Ir=n.lazy(()=>l(()=>import("./NotificationSettings-Dg1cDNrh.js"),__vite__mapDeps([28,1,2,3,0,4,5,6,7]))),Sr=n.lazy(()=>l(()=>import("./PlatformSettings-BGWGWQ2j.js"),__vite__mapDeps([29,1,2,3,0,4,5,6,7,8]))),Lr=n.lazy(()=>l(()=>import("./AccountSettings-Cyw2sWk6.js"),__vite__mapDeps([30,1,2,3,0,4,5,6,10,7]))),Dr=n.lazy(()=>l(()=>import("./FeedbackSection-MsKME-xT.js"),__vite__mapDeps([31,1,2,3,0,4,5,6,7]))),ne=n.lazy(()=>l(()=>import("./PlaceholderSettings-C4Scsik8.js"),__vite__mapDeps([32,1,2,3,5]))),zr=n.lazy(()=>l(()=>import("./PremiumSettings-VhYKJMxa.js"),__vite__mapDeps([33,1,2,3,0,4,5,6,7,11]))),Or=n.lazy(()=>l(()=>import("./index-C2UpOqSj.js"),__vite__mapDeps([34,1,2,3,0,4,5,6,7,11]))),Fr=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ze,{className:"w-12 h-12 animate-spin text-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Sayfa yükleniyor..."})]})}),N=({children:t})=>{const{currentUser:r,loading:s,initialized:a}=Q(),i=G();return s||!a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsx(Ze,{className:"w-12 h-12 animate-spin text-primary"})}):r?t:e.jsx(Re,{to:"/auth?action=login",state:{from:i},replace:!0})},Vr=({children:t})=>e.jsx("div",{className:"flex-grow flex",children:e.jsx("main",{className:"flex-grow",children:t})}),m=(t,r)=>e.jsx(tr,{pageName:r,children:e.jsx(n.Suspense,{fallback:e.jsx(Fr,{}),children:e.jsx(t,{})})}),Mr=({currentUser:t})=>{const r=G();return e.jsx(Vr,{children:e.jsxs(It,{location:r,children:[e.jsx(c,{path:"/",element:m(sr,"Ana Sayfa")}),e.jsx(c,{path:"/auth",element:m(fr,"Giriş/Kayıt")}),e.jsx(c,{path:"/arama",element:m(hr,"Arama Sonuçları")}),e.jsx(c,{path:"/ilan-olustur",element:e.jsx(N,{children:m(pr,"İlan Oluştur")})}),e.jsx(c,{path:"/teklif-yap/:listingId",element:e.jsx(N,{children:m(gr,"Teklif Yap")})}),e.jsx(c,{path:"/sikayet-et/:listingId",element:e.jsx(N,{children:m(jr,"Şikayet Et")})}),e.jsx(c,{path:"/degerlendirme/:offerId",element:e.jsx(N,{children:m(vr,"Değerlendirme")})}),e.jsx(c,{path:"/ilan-duzenle/:listingId",element:e.jsx(N,{children:m(yr,"İlan Düzenle")})}),e.jsx(c,{path:"/stok-gorsel-ara",element:e.jsx(N,{children:m(wr,"Stok Görsel Ara")})}),e.jsx(c,{path:"/kategori-takip-et",element:e.jsx(N,{children:m(br,"Kategori Takip Et")})}),e.jsx(c,{path:"/ilan-kurallari",element:m(Nr,"İlan Kuralları")}),e.jsx(c,{path:"/doping/:listingId",element:e.jsx(N,{children:m(_r,"Doping")})}),e.jsx(c,{path:"/premium",element:e.jsx(N,{children:m(Er,"Premium")})}),e.jsx(c,{path:"/guven-puani/:userId",element:m(Tr,"Güven Puanı")}),e.jsx(c,{path:"/ilan-kaldir/:listingId",element:e.jsx(N,{children:m(kr,"İlan Kaldır")})}),e.jsx(c,{path:"/profil/:userId",element:m(rr,"Profil")}),e.jsx(c,{path:"/envanterim",element:e.jsx(N,{children:m(ar,"Envanterim")})}),e.jsx(c,{path:"/ilanlarim",element:e.jsx(N,{children:m(nr,"İlanlarım")})}),e.jsx(c,{path:"/envanter/yeni",element:e.jsx(N,{children:m(Pe,"Yeni Envanter")})}),e.jsx(c,{path:"/envanter/duzenle/:itemId",element:e.jsx(N,{children:m(Pe,"Envanter Düzenle")})}),e.jsx(c,{path:"/ilan/:listingId",element:m(ir,"İlan Detayı")}),e.jsx(c,{path:"/gonderdigim-teklifler",element:e.jsx(N,{children:m(or,"Gönderdiğim Teklifler")})}),e.jsx(c,{path:"/aldigim-teklifler",element:e.jsx(N,{children:m(lr,"Aldığım Teklifler")})}),e.jsx(c,{path:"/mesajlarim",element:e.jsx(N,{children:m(mr,"Mesajlarım")})}),e.jsx(c,{path:"/mesajlar/:conversationId",element:e.jsx(N,{children:m(cr,"Mesajlaşma")})}),e.jsx(c,{path:"/favorilerim",element:e.jsx(N,{children:m(ur,"Favorilerim")})}),e.jsx(c,{path:"/takip-edilenler/:userId",element:e.jsx(N,{children:m(ke,"Takip Edilenler")})}),e.jsx(c,{path:"/takip-edilenler",element:e.jsx(N,{children:m(ke,"Takip Edilenler")})}),e.jsx(c,{path:"/auth/callback",element:m(dr,"Auth Callback")}),e.jsx(c,{path:"/premium-dashboard",element:e.jsx(N,{children:m(Or,"Premium Dashboard")})}),!1,e.jsxs(c,{path:"/ayarlar",element:e.jsx(N,{children:m(Pr,"Ayarlar")}),children:[e.jsx(c,{index:!0,element:e.jsx(Re,{to:"profil",replace:!0})}),e.jsx(c,{path:"profil",element:m(Cr,"Profil Ayarları")}),e.jsx(c,{path:"iletisim",element:m(Rr,"İletişim Ayarları")}),e.jsx(c,{path:"guvenlik",element:m(Ar,"Güvenlik Ayarları")}),e.jsx(c,{path:"bildirimler",element:m(Ir,"Bildirim Ayarları")}),e.jsx(c,{path:"platform",element:m(Sr,"Platform Ayarları")}),e.jsx(c,{path:"hesap",element:m(Lr,"Hesap Ayarları")}),e.jsx(c,{path:"premium",element:m(zr,"Premium Ayarları")}),e.jsx(c,{path:"geribildirim",element:m(Dr,"Geribildirim")}),e.jsx(c,{path:"sohbet",element:m(()=>e.jsx(ne,{title:"Sohbet"}),"Sohbet Ayarları")}),e.jsx(c,{path:"istek-teklif",element:m(()=>e.jsx(ne,{title:"İstek ve Teklif Yönetimi"}),"İstek Teklif Ayarları")}),e.jsx(c,{path:"odeme",element:m(()=>e.jsx(ne,{title:"Fatura ve Ödemeler"}),"Ödeme Ayarları")}),e.jsx(c,{path:"gelistirici",element:m(()=>e.jsx(ne,{title:"Geliştirici"}),"Geliştirici Ayarları")})]}),e.jsx(c,{path:"*",element:m(xr,"404")})]},r.pathname)})},Br=({error:t,errorInfo:r,retryCount:s,onRetry:a,onReset:i})=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:e.jsxs("div",{className:"max-w-lg w-full bg-white rounded-xl shadow-2xl p-8",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto bg-red-100 rounded-full mb-6",children:e.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 text-center mb-3",children:"Uygulama Hatası"}),e.jsx("p",{className:"text-gray-600 text-center mb-6 leading-relaxed",children:"Benalsam uygulamasında beklenmeyen bir hata oluştu. Teknik ekibimiz bu durumdan haberdar edildi."}),s>0&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-6",children:e.jsxs("p",{className:"text-sm text-yellow-800 text-center",children:["Deneme sayısı: ",s]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:a,className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Tekrar Dene"}),e.jsx("button",{onClick:()=>window.location.href="/",className:"w-full bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors font-medium",children:"Ana Sayfaya Dön"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Sayfayı Yenile"})]}),!1]})}),Kr=({children:t})=>e.jsx(Et,{fallback:Br,children:t}),$r=()=>{const t=G(),r=n.useRef(performance.now()),s=n.useRef(!0);n.useEffect(()=>{const i=performance.now()-r.current;console.log(`🚀 Navigation to ${t.pathname}: ${i.toFixed(2)}ms`),s.current?(console.log("📊 First page load completed"),s.current=!1):console.log("📊 Client-side navigation completed"),r.current=performance.now(),"web-vital"in window&&console.log("📈 Core Web Vitals tracking available"),setTimeout(()=>{const g=performance.getEntriesByType("resource").filter(x=>x.name.includes(".js")&&x.name.includes("chunk"));g.length>0&&console.log("📦 Chunks loaded:",g.map(x=>({name:x.name.split("/").pop(),duration:x.duration.toFixed(2)+"ms",size:x.transferSize?(x.transferSize/1024).toFixed(2)+"KB":"unknown"})))},100)},[t.pathname]),n.useEffect(()=>{if(document.readyState==="complete"){const a=performance.now();console.log(`🎯 Initial page load: ${a.toFixed(2)}ms`)}else window.addEventListener("load",()=>{const a=performance.now();console.log(`🎯 Initial page load: ${a.toFixed(2)}ms`)})},[])},Wr=()=>{const[t,r]=n.useState(!1),[s,a]=n.useState(null),[i,o]=n.useState({}),[d,g]=n.useState({totalImages:0,optimizedImages:0,cachedImages:0,averageLoadTime:0}),{isSupported:x,isRegistered:u,isUpdating:_,clearImageCache:T,getCacheInfo:z}=zt(),I=Ot();n.useEffect(()=>{const h=w=>{w.ctrlKey&&w.shiftKey&&w.key==="I"&&(w.preventDefault(),r(!t))};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[t]),n.useEffect(()=>{t&&(P(),v())},[t]);const P=async()=>{const h=await z();a(h)},v=()=>{const h=performance.getEntriesByType("navigation")[0],E=performance.getEntriesByType("resource").filter(b=>b.initiatorType==="img"),k={pageLoadTime:h?.loadEventEnd-h?.loadEventStart||0,domContentLoaded:h?.domContentLoadedEventEnd-h?.domContentLoadedEventStart||0,totalImages:E.length,averageImageLoadTime:E.length>0?E.reduce((b,O)=>b+O.duration,0)/E.length:0,totalImageSize:E.reduce((b,O)=>b+(O.transferSize||0),0)};o(k),g({totalImages:k.totalImages,optimizedImages:E.filter(b=>b.name.includes("optimize")).length,cachedImages:E.filter(b=>b.transferSize===0).length,averageLoadTime:k.averageImageLoadTime})},p=async()=>{await T()&&(P(),v())},C=()=>{P(),v()};return t?e.jsx("div",{className:"fixed bottom-4 right-4 z-50 w-96 max-h-96 overflow-y-auto",children:e.jsxs(Zt,{className:"bg-background/95 backdrop-blur-sm border-2 border-primary/20 shadow-xl",children:[e.jsx(Jt,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Ut,{className:"text-lg flex items-center gap-2",children:[e.jsx(je,{className:"w-5 h-5"}),"Image Optimization Debug"]}),e.jsx(j,{variant:"ghost",size:"sm",onClick:()=>r(!1),className:"h-8 w-8 p-0",children:"×"})]})}),e.jsxs(es,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Service Worker Status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{variant:x?"default":"destructive",children:x?"Supported":"Not Supported"}),e.jsx(D,{variant:u?"default":"secondary",children:u?"Registered":"Not Registered"}),_&&e.jsxs(D,{variant:"outline",className:"animate-pulse",children:[e.jsx(_e,{className:"w-3 h-3 mr-1 animate-spin"}),"Updating"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Format Support"}),e.jsx("div",{className:"flex gap-2",children:Object.entries(I).map(([h,w])=>e.jsx(D,{variant:w?"default":"secondary",children:h.toUpperCase()},h))})]}),s&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Cache Info"}),e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsxs("p",{children:["Cache: ",s.name]}),e.jsxs("p",{children:["Entries: ",s.size]}),e.jsxs("p",{children:["Size: ",(s.size*.1).toFixed(1)," MB (estimated)"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Performance"}),e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsxs("p",{children:["Page Load: ",i.pageLoadTime?.toFixed(0),"ms"]}),e.jsxs("p",{children:["DOM Ready: ",i.domContentLoaded?.toFixed(0),"ms"]}),e.jsxs("p",{children:["Total Images: ",d.totalImages]}),e.jsxs("p",{children:["Optimized: ",d.optimizedImages]}),e.jsxs("p",{children:["Cached: ",d.cachedImages]}),e.jsxs("p",{children:["Avg Load Time: ",d.averageLoadTime?.toFixed(0),"ms"]}),e.jsxs("p",{children:["Total Size: ",(i.totalImageSize/1024/1024).toFixed(2),"MB"]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[e.jsxs(j,{variant:"outline",size:"sm",onClick:C,className:"flex-1",children:[e.jsx(_e,{className:"w-4 h-4 mr-1"}),"Refresh"]}),e.jsxs(j,{variant:"outline",size:"sm",onClick:p,className:"flex-1",children:[e.jsx(js,{className:"w-4 h-4 mr-1"}),"Clear Cache"]})]}),e.jsx("div",{className:"text-xs text-muted-foreground bg-muted/50 p-2 rounded",children:e.jsxs("div",{className:"flex items-start gap-1",children:[e.jsx(vs,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{children:"Press Ctrl+Shift+I to toggle"}),e.jsx("p",{children:"Images are automatically optimized and cached"}),e.jsx("p",{children:"Supported formats: AVIF → WebP → JPEG"})]})]})})]})]})}):null};function Gr(){const t=G(),r=Ce(),{theme:s}=n.useContext(Je),a=t.pathname.startsWith("/mesajlar/"),{currentUser:i,loading:o,initialize:d}=Q();return Xs(i),$r(),n.useEffect(()=>{console.log("🔐 Auth Store State:",{currentUser:i,loadingAuth:o}),console.log("🔐 Auth Store Raw State:",Q.getState())},[i,o]),n.useEffect(()=>{document.documentElement.setAttribute("data-theme",s)},[s]),o?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsx("div",{className:"animate-spin rounded-full h-24 w-24 sm:h-32 sm:w-32 border-t-2 border-b-2 border-primary"})}):e.jsx(Kr,{children:e.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[e.jsx("div",{className:"pattern-dots fixed inset-0 opacity-20 pointer-events-none -z-10"}),!a&&e.jsx(Js,{onCreateClick:()=>r("/ilan-olustur"),currentUser:i,onLogout:()=>Q.getState().signOut(),onLoginClick:()=>r("/auth?action=login"),onRegisterClick:()=>r("/auth?action=register")}),e.jsx("main",{className:W("relative z-10 flex-grow flex flex-col",!a&&"pt-16 sm:pt-20"),children:e.jsx(Xe,{mode:"wait",children:e.jsx(Mr,{currentUser:i})})}),!a&&e.jsx(Us,{}),e.jsx(Gs,{}),e.jsx(Wr,{})]})})}function Yr(){const{pathname:t}=G();return n.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const Hr=new Ct({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:2,retryDelay:1e3}}});function qr({children:t}){const{loading:r,initialized:s}=Q();return r||!s?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-24 w-24 sm:h-32 sm:w-32 border-t-2 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Giriş kontrol ediliyor..."})]})}):t}Ns.createRoot(document.getElementById("root")).render(e.jsx(Rt,{client:Hr,children:e.jsx(ys,{children:e.jsxs(St,{children:[e.jsx(Yr,{}),e.jsx(qr,{children:e.jsx(Gr,{})})]})})}));export{Et as E};
